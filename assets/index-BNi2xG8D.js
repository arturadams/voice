var Rf=Object.defineProperty;var Nf=(t,e,n)=>e in t?Rf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Qe=(t,e,n)=>Nf(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Af(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function If(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Wu={exports:{}},ri={},Hu={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr=Symbol.for("react.element"),Lf=Symbol.for("react.portal"),$f=Symbol.for("react.fragment"),Uf=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),Mf=Symbol.for("react.provider"),zf=Symbol.for("react.context"),Ff=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),Wf=Symbol.for("react.memo"),Hf=Symbol.for("react.lazy"),pa=Symbol.iterator;function Vf(t){return t===null||typeof t!="object"?null:(t=pa&&t[pa]||t["@@iterator"],typeof t=="function"?t:null)}var Vu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ku=Object.assign,qu={};function Wn(t,e,n){this.props=t,this.context=e,this.refs=qu,this.updater=n||Vu}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qu(){}Qu.prototype=Wn.prototype;function fl(t,e,n){this.props=t,this.context=e,this.refs=qu,this.updater=n||Vu}var hl=fl.prototype=new Qu;hl.constructor=fl;Ku(hl,Wn.prototype);hl.isPureReactComponent=!0;var ga=Array.isArray,Gu=Object.prototype.hasOwnProperty,pl={current:null},Ju={key:!0,ref:!0,__self:!0,__source:!0};function Yu(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Gu.call(e,r)&&!Ju.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Wr,type:t,key:i,ref:o,props:s,_owner:pl.current}}function Kf(t,e){return{$$typeof:Wr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wr}function qf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ma=/\/+/g;function ji(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qf(""+t.key):e.toString(36)}function ws(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wr:case Lf:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ji(o,0):r,ga(s)?(n="",t!=null&&(n=t.replace(ma,"$&/")+"/"),ws(s,e,n,"",function(u){return u})):s!=null&&(gl(s)&&(s=Kf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ma,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ga(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+ji(i,l);o+=ws(i,e,n,a,s)}else if(a=Vf(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+ji(i,l++),o+=ws(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xr(t,e,n){if(t==null)return t;var r=[],s=0;return ws(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Qf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ve={current:null},_s={transition:null},Gf={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:_s,ReactCurrentOwner:pl};function Xu(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Xr,forEach:function(t,e,n){Xr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xr(t,function(){e++}),e},toArray:function(t){return Xr(t,function(e){return e})||[]},only:function(t){if(!gl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=Wn;$.Fragment=$f;$.Profiler=Df;$.PureComponent=fl;$.StrictMode=Uf;$.Suspense=Bf;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gf;$.act=Xu;$.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ku({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=pl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Gu.call(e,a)&&!Ju.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Wr,type:t.type,key:s,ref:i,props:r,_owner:o}};$.createContext=function(t){return t={$$typeof:zf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mf,_context:t},t.Consumer=t};$.createElement=Yu;$.createFactory=function(t){var e=Yu.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Ff,render:t}};$.isValidElement=gl;$.lazy=function(t){return{$$typeof:Hf,_payload:{_status:-1,_result:t},_init:Qf}};$.memo=function(t,e){return{$$typeof:Wf,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=_s.transition;_s.transition={};try{t()}finally{_s.transition=e}};$.unstable_act=Xu;$.useCallback=function(t,e){return ve.current.useCallback(t,e)};$.useContext=function(t){return ve.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return ve.current.useDeferredValue(t)};$.useEffect=function(t,e){return ve.current.useEffect(t,e)};$.useId=function(){return ve.current.useId()};$.useImperativeHandle=function(t,e,n){return ve.current.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return ve.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return ve.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return ve.current.useMemo(t,e)};$.useReducer=function(t,e,n){return ve.current.useReducer(t,e,n)};$.useRef=function(t){return ve.current.useRef(t)};$.useState=function(t){return ve.current.useState(t)};$.useSyncExternalStore=function(t,e,n){return ve.current.useSyncExternalStore(t,e,n)};$.useTransition=function(){return ve.current.useTransition()};$.version="18.3.1";Hu.exports=$;var R=Hu.exports;const Jf=Af(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=R,Xf=Symbol.for("react.element"),Zf=Symbol.for("react.fragment"),eh=Object.prototype.hasOwnProperty,th=Yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nh={key:!0,ref:!0,__self:!0,__source:!0};function Zu(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)eh.call(e,r)&&!nh.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Xf,type:t,key:i,ref:o,props:s,_owner:th.current}}ri.Fragment=Zf;ri.jsx=Zu;ri.jsxs=Zu;Wu.exports=ri;var v=Wu.exports,oo={},ec={exports:{}},Pe={},tc={exports:{}},nc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,N){var I=T.length;T.push(N);e:for(;0<I;){var J=I-1>>>1,se=T[J];if(0<s(se,N))T[J]=N,T[I]=se,I=J;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var N=T[0],I=T.pop();if(I!==N){T[0]=I;e:for(var J=0,se=T.length,Jr=se>>>1;J<Jr;){var Mt=2*(J+1)-1,Ei=T[Mt],zt=Mt+1,Yr=T[zt];if(0>s(Ei,I))zt<se&&0>s(Yr,Ei)?(T[J]=Yr,T[zt]=I,J=zt):(T[J]=Ei,T[Mt]=I,J=Mt);else if(zt<se&&0>s(Yr,I))T[J]=Yr,T[zt]=I,J=zt;else break e}}return N}function s(T,N){var I=T.sortIndex-N.sortIndex;return I!==0?I:T.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,h=3,m=!1,w=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(T){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=T)r(u),N.sortIndex=N.expirationTime,e(a,N);else break;N=n(u)}}function k(T){if(S=!1,p(T),!w)if(n(a)!==null)w=!0,Dt(j);else{var N=n(u);N!==null&&Jn(k,N.startTime-T)}}function j(T,N){w=!1,S&&(S=!1,g(x),x=-1),m=!0;var I=h;try{for(p(N),d=n(a);d!==null&&(!(d.expirationTime>N)||T&&!U());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var se=J(d.expirationTime<=N);N=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(a)&&r(a),p(N)}else r(a);d=n(a)}if(d!==null)var Jr=!0;else{var Mt=n(u);Mt!==null&&Jn(k,Mt.startTime-N),Jr=!1}return Jr}finally{d=null,h=I,m=!1}}var y=!1,_=null,x=-1,O=5,P=-1;function U(){return!(t.unstable_now()-P<O)}function Q(){if(_!==null){var T=t.unstable_now();P=T;var N=!0;try{N=_(!0,T)}finally{N?Z():(y=!1,_=null)}}else y=!1}var Z;if(typeof f=="function")Z=function(){f(Q)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Gn=Re.port2;Re.port1.onmessage=Q,Z=function(){Gn.postMessage(null)}}else Z=function(){C(Q,0)};function Dt(T){_=T,y||(y=!0,Z())}function Jn(T,N){x=C(function(){T(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,Dt(j))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(T){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var I=h;h=N;try{return T()}finally{h=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,N){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var I=h;h=T;try{return N()}finally{h=I}},t.unstable_scheduleCallback=function(T,N,I){var J=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?J+I:J):I=J,T){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=I+se,T={id:c++,callback:N,priorityLevel:T,startTime:I,expirationTime:se,sortIndex:-1},I>J?(T.sortIndex=I,e(u,T),n(a)===null&&T===n(u)&&(S?(g(x),x=-1):S=!0,Jn(k,I-J))):(T.sortIndex=se,e(a,T),w||m||(w=!0,Dt(j))),T},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(T){var N=h;return function(){var I=h;h=N;try{return T.apply(this,arguments)}finally{h=I}}}})(nc);tc.exports=nc;var rh=tc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh=R,be=rh;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rc=new Set,jr={};function rn(t,e){Ln(t,e),Ln(t+"Capture",e)}function Ln(t,e){for(jr[t]=e,t=0;t<e.length;t++)rc.add(e[t])}var at=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lo=Object.prototype.hasOwnProperty,ih=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,va={},ya={};function oh(t){return lo.call(ya,t)?!0:lo.call(va,t)?!1:ih.test(t)?ya[t]=!0:(va[t]=!0,!1)}function lh(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ah(t,e,n,r){if(e===null||typeof e>"u"||lh(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ye(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ue[t]=new ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ue[e]=new ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ue[t]=new ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ue[t]=new ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ue[t]=new ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ue[t]=new ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ue[t]=new ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ue[t]=new ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ue[t]=new ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var ml=/[\-:]([a-z])/g;function vl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ml,vl);ue[e]=new ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ml,vl);ue[e]=new ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ml,vl);ue[e]=new ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ue[t]=new ye(t,1,!1,t.toLowerCase(),null,!1,!1)});ue.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ue[t]=new ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function yl(t,e,n,r){var s=ue.hasOwnProperty(e)?ue[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ah(e,n,s,r)&&(n=null),r||s===null?oh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ft=sh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zr=Symbol.for("react.element"),mn=Symbol.for("react.portal"),vn=Symbol.for("react.fragment"),wl=Symbol.for("react.strict_mode"),ao=Symbol.for("react.profiler"),sc=Symbol.for("react.provider"),ic=Symbol.for("react.context"),_l=Symbol.for("react.forward_ref"),uo=Symbol.for("react.suspense"),co=Symbol.for("react.suspense_list"),kl=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),oc=Symbol.for("react.offscreen"),wa=Symbol.iterator;function Yn(t){return t===null||typeof t!="object"?null:(t=wa&&t[wa]||t["@@iterator"],typeof t=="function"?t:null)}var q=Object.assign,Ci;function or(t){if(Ci===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ci=e&&e[1]||""}return`
`+Ci+t}var Ti=!1;function bi(t,e){if(!t||Ti)return"";Ti=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ti=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?or(t):""}function uh(t){switch(t.tag){case 5:return or(t.type);case 16:return or("Lazy");case 13:return or("Suspense");case 19:return or("SuspenseList");case 0:case 2:case 15:return t=bi(t.type,!1),t;case 11:return t=bi(t.type.render,!1),t;case 1:return t=bi(t.type,!0),t;default:return""}}function fo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vn:return"Fragment";case mn:return"Portal";case ao:return"Profiler";case wl:return"StrictMode";case uo:return"Suspense";case co:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ic:return(t.displayName||"Context")+".Consumer";case sc:return(t._context.displayName||"Context")+".Provider";case _l:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kl:return e=t.displayName||null,e!==null?e:fo(t.type)||"Memo";case mt:e=t._payload,t=t._init;try{return fo(t(e))}catch{}}return null}function ch(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fo(e);case 8:return e===wl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dh(t){var e=lc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function es(t){t._valueTracker||(t._valueTracker=dh(t))}function ac(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ho(t,e){var n=e.checked;return q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _a(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uc(t,e){e=e.checked,e!=null&&yl(t,"checked",e,!1)}function po(t,e){uc(t,e);var n=Nt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?go(t,e.type,n):e.hasOwnProperty("defaultValue")&&go(t,e.type,Nt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ka(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function go(t,e,n){(e!=="number"||Rs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lr=Array.isArray;function bn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function mo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(lr(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nt(n)}}function cc(t,e){var n=Nt(e.value),r=Nt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ts,fc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ts.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fh=["Webkit","ms","Moz","O"];Object.keys(dr).forEach(function(t){fh.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dr[e]=dr[t]})});function hc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dr.hasOwnProperty(t)&&dr[t]?(""+e).trim():e+"px"}function pc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=hc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var hh=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(t,e){if(e){if(hh[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function wo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _o=null;function Sl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ko=null,Pn=null,On=null;function Ea(t){if(t=Kr(t)){if(typeof ko!="function")throw Error(E(280));var e=t.stateNode;e&&(e=ai(e),ko(t.stateNode,t.type,e))}}function gc(t){Pn?On?On.push(t):On=[t]:Pn=t}function mc(){if(Pn){var t=Pn,e=On;if(On=Pn=null,Ea(t),e)for(t=0;t<e.length;t++)Ea(e[t])}}function vc(t,e){return t(e)}function yc(){}var Pi=!1;function wc(t,e,n){if(Pi)return t(e,n);Pi=!0;try{return vc(t,e,n)}finally{Pi=!1,(Pn!==null||On!==null)&&(yc(),mc())}}function Tr(t,e){var n=t.stateNode;if(n===null)return null;var r=ai(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var So=!1;if(at)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){So=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{So=!1}function ph(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var fr=!1,Ns=null,As=!1,xo=null,gh={onError:function(t){fr=!0,Ns=t}};function mh(t,e,n,r,s,i,o,l,a){fr=!1,Ns=null,ph.apply(gh,arguments)}function vh(t,e,n,r,s,i,o,l,a){if(mh.apply(this,arguments),fr){if(fr){var u=Ns;fr=!1,Ns=null}else throw Error(E(198));As||(As=!0,xo=u)}}function sn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _c(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ja(t){if(sn(t)!==t)throw Error(E(188))}function yh(t){var e=t.alternate;if(!e){if(e=sn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ja(s),t;if(i===r)return ja(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function kc(t){return t=yh(t),t!==null?Sc(t):null}function Sc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sc(t);if(e!==null)return e;t=t.sibling}return null}var xc=be.unstable_scheduleCallback,Ca=be.unstable_cancelCallback,wh=be.unstable_shouldYield,_h=be.unstable_requestPaint,Y=be.unstable_now,kh=be.unstable_getCurrentPriorityLevel,xl=be.unstable_ImmediatePriority,Ec=be.unstable_UserBlockingPriority,Is=be.unstable_NormalPriority,Sh=be.unstable_LowPriority,jc=be.unstable_IdlePriority,si=null,Ze=null;function xh(t){if(Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(si,t,void 0,(t.current.flags&128)===128)}catch{}}var Ve=Math.clz32?Math.clz32:Ch,Eh=Math.log,jh=Math.LN2;function Ch(t){return t>>>=0,t===0?32:31-(Eh(t)/jh|0)|0}var ns=64,rs=4194304;function ar(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ls(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ar(l):(i&=o,i!==0&&(r=ar(i)))}else o=n&~s,o!==0?r=ar(o):i!==0&&(r=ar(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ve(e),s=1<<n,r|=t[n],e&=~s;return r}function Th(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bh(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ve(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Th(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Eo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Cc(){var t=ns;return ns<<=1,!(ns&4194240)&&(ns=64),t}function Oi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ve(e),t[e]=n}function Ph(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ve(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function El(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ve(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var M=0;function Tc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bc,jl,Pc,Oc,Rc,jo=!1,ss=[],Et=null,jt=null,Ct=null,br=new Map,Pr=new Map,wt=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ta(t,e){switch(t){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":br.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(e.pointerId)}}function Zn(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Kr(e),e!==null&&jl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Rh(t,e,n,r,s){switch(e){case"focusin":return Et=Zn(Et,t,e,n,r,s),!0;case"dragenter":return jt=Zn(jt,t,e,n,r,s),!0;case"mouseover":return Ct=Zn(Ct,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return br.set(i,Zn(br.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Pr.set(i,Zn(Pr.get(i)||null,t,e,n,r,s)),!0}return!1}function Nc(t){var e=qt(t.target);if(e!==null){var n=sn(e);if(n!==null){if(e=n.tag,e===13){if(e=_c(n),e!==null){t.blockedOn=e,Rc(t.priority,function(){Pc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ks(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Co(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_o=r,n.target.dispatchEvent(r),_o=null}else return e=Kr(n),e!==null&&jl(e),t.blockedOn=n,!1;e.shift()}return!0}function ba(t,e,n){ks(t)&&n.delete(e)}function Nh(){jo=!1,Et!==null&&ks(Et)&&(Et=null),jt!==null&&ks(jt)&&(jt=null),Ct!==null&&ks(Ct)&&(Ct=null),br.forEach(ba),Pr.forEach(ba)}function er(t,e){t.blockedOn===e&&(t.blockedOn=null,jo||(jo=!0,be.unstable_scheduleCallback(be.unstable_NormalPriority,Nh)))}function Or(t){function e(s){return er(s,t)}if(0<ss.length){er(ss[0],t);for(var n=1;n<ss.length;n++){var r=ss[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Et!==null&&er(Et,t),jt!==null&&er(jt,t),Ct!==null&&er(Ct,t),br.forEach(e),Pr.forEach(e),n=0;n<wt.length;n++)r=wt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wt.length&&(n=wt[0],n.blockedOn===null);)Nc(n),n.blockedOn===null&&wt.shift()}var Rn=ft.ReactCurrentBatchConfig,$s=!0;function Ah(t,e,n,r){var s=M,i=Rn.transition;Rn.transition=null;try{M=1,Cl(t,e,n,r)}finally{M=s,Rn.transition=i}}function Ih(t,e,n,r){var s=M,i=Rn.transition;Rn.transition=null;try{M=4,Cl(t,e,n,r)}finally{M=s,Rn.transition=i}}function Cl(t,e,n,r){if($s){var s=Co(t,e,n,r);if(s===null)zi(t,e,r,Us,n),Ta(t,r);else if(Rh(s,t,e,n,r))r.stopPropagation();else if(Ta(t,r),e&4&&-1<Oh.indexOf(t)){for(;s!==null;){var i=Kr(s);if(i!==null&&bc(i),i=Co(t,e,n,r),i===null&&zi(t,e,r,Us,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zi(t,e,r,null,n)}}var Us=null;function Co(t,e,n,r){if(Us=null,t=Sl(r),t=qt(t),t!==null)if(e=sn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_c(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Us=t,null}function Ac(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kh()){case xl:return 1;case Ec:return 4;case Is:case Sh:return 16;case jc:return 536870912;default:return 16}default:return 16}}var St=null,Tl=null,Ss=null;function Ic(){if(Ss)return Ss;var t,e=Tl,n=e.length,r,s="value"in St?St.value:St.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ss=s.slice(t,1<r?1-r:void 0)}function xs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function is(){return!0}function Pa(){return!1}function Oe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?is:Pa,this.isPropagationStopped=Pa,this}return q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),e}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=Oe(Hn),Vr=q({},Hn,{view:0,detail:0}),Lh=Oe(Vr),Ri,Ni,tr,ii=q({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tr&&(tr&&t.type==="mousemove"?(Ri=t.screenX-tr.screenX,Ni=t.screenY-tr.screenY):Ni=Ri=0,tr=t),Ri)},movementY:function(t){return"movementY"in t?t.movementY:Ni}}),Oa=Oe(ii),$h=q({},ii,{dataTransfer:0}),Uh=Oe($h),Dh=q({},Vr,{relatedTarget:0}),Ai=Oe(Dh),Mh=q({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),zh=Oe(Mh),Fh=q({},Hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bh=Oe(Fh),Wh=q({},Hn,{data:0}),Ra=Oe(Wh),Hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qh(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kh[t])?!!e[t]:!1}function Pl(){return qh}var Qh=q({},Vr,{key:function(t){if(t.key){var e=Hh[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pl,charCode:function(t){return t.type==="keypress"?xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gh=Oe(Qh),Jh=q({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Na=Oe(Jh),Yh=q({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pl}),Xh=Oe(Yh),Zh=q({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ep=Oe(Zh),tp=q({},ii,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),np=Oe(tp),rp=[9,13,27,32],Ol=at&&"CompositionEvent"in window,hr=null;at&&"documentMode"in document&&(hr=document.documentMode);var sp=at&&"TextEvent"in window&&!hr,Lc=at&&(!Ol||hr&&8<hr&&11>=hr),Aa=" ",Ia=!1;function $c(t,e){switch(t){case"keyup":return rp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yn=!1;function ip(t,e){switch(t){case"compositionend":return Uc(e);case"keypress":return e.which!==32?null:(Ia=!0,Aa);case"textInput":return t=e.data,t===Aa&&Ia?null:t;default:return null}}function op(t,e){if(yn)return t==="compositionend"||!Ol&&$c(t,e)?(t=Ic(),Ss=Tl=St=null,yn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lc&&e.locale!=="ko"?null:e.data;default:return null}}var lp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function La(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lp[t.type]:e==="textarea"}function Dc(t,e,n,r){gc(r),e=Ds(e,"onChange"),0<e.length&&(n=new bl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pr=null,Rr=null;function ap(t){Gc(t,0)}function oi(t){var e=kn(t);if(ac(e))return t}function up(t,e){if(t==="change")return e}var Mc=!1;if(at){var Ii;if(at){var Li="oninput"in document;if(!Li){var $a=document.createElement("div");$a.setAttribute("oninput","return;"),Li=typeof $a.oninput=="function"}Ii=Li}else Ii=!1;Mc=Ii&&(!document.documentMode||9<document.documentMode)}function Ua(){pr&&(pr.detachEvent("onpropertychange",zc),Rr=pr=null)}function zc(t){if(t.propertyName==="value"&&oi(Rr)){var e=[];Dc(e,Rr,t,Sl(t)),wc(ap,e)}}function cp(t,e,n){t==="focusin"?(Ua(),pr=e,Rr=n,pr.attachEvent("onpropertychange",zc)):t==="focusout"&&Ua()}function dp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oi(Rr)}function fp(t,e){if(t==="click")return oi(e)}function hp(t,e){if(t==="input"||t==="change")return oi(e)}function pp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qe=typeof Object.is=="function"?Object.is:pp;function Nr(t,e){if(qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lo.call(e,s)||!qe(t[s],e[s]))return!1}return!0}function Da(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ma(t,e){var n=Da(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Da(n)}}function Fc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Fc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bc(){for(var t=window,e=Rs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rs(t.document)}return e}function Rl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gp(t){var e=Bc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Fc(n.ownerDocument.documentElement,n)){if(r!==null&&Rl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ma(n,i);var o=Ma(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mp=at&&"documentMode"in document&&11>=document.documentMode,wn=null,To=null,gr=null,bo=!1;function za(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bo||wn==null||wn!==Rs(r)||(r=wn,"selectionStart"in r&&Rl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gr&&Nr(gr,r)||(gr=r,r=Ds(To,"onSelect"),0<r.length&&(e=new bl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wn)))}function os(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _n={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},$i={},Wc={};at&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function li(t){if($i[t])return $i[t];if(!_n[t])return t;var e=_n[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wc)return $i[t]=e[n];return t}var Hc=li("animationend"),Vc=li("animationiteration"),Kc=li("animationstart"),qc=li("transitionend"),Qc=new Map,Fa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function It(t,e){Qc.set(t,e),rn(e,[t])}for(var Ui=0;Ui<Fa.length;Ui++){var Di=Fa[Ui],vp=Di.toLowerCase(),yp=Di[0].toUpperCase()+Di.slice(1);It(vp,"on"+yp)}It(Hc,"onAnimationEnd");It(Vc,"onAnimationIteration");It(Kc,"onAnimationStart");It("dblclick","onDoubleClick");It("focusin","onFocus");It("focusout","onBlur");It(qc,"onTransitionEnd");Ln("onMouseEnter",["mouseout","mouseover"]);Ln("onMouseLeave",["mouseout","mouseover"]);Ln("onPointerEnter",["pointerout","pointerover"]);Ln("onPointerLeave",["pointerout","pointerover"]);rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ur));function Ba(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vh(r,e,void 0,t),t.currentTarget=null}function Gc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ba(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ba(s,l,u),i=a}}}if(As)throw t=xo,As=!1,xo=null,t}function B(t,e){var n=e[Ao];n===void 0&&(n=e[Ao]=new Set);var r=t+"__bubble";n.has(r)||(Jc(e,t,2,!1),n.add(r))}function Mi(t,e,n){var r=0;e&&(r|=4),Jc(n,t,r,e)}var ls="_reactListening"+Math.random().toString(36).slice(2);function Ar(t){if(!t[ls]){t[ls]=!0,rc.forEach(function(n){n!=="selectionchange"&&(wp.has(n)||Mi(n,!1,t),Mi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ls]||(e[ls]=!0,Mi("selectionchange",!1,e))}}function Jc(t,e,n,r){switch(Ac(e)){case 1:var s=Ah;break;case 4:s=Ih;break;default:s=Cl}n=s.bind(null,e,n,t),s=void 0,!So||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function zi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=qt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}wc(function(){var u=i,c=Sl(n),d=[];e:{var h=Qc.get(t);if(h!==void 0){var m=bl,w=t;switch(t){case"keypress":if(xs(n)===0)break e;case"keydown":case"keyup":m=Gh;break;case"focusin":w="focus",m=Ai;break;case"focusout":w="blur",m=Ai;break;case"beforeblur":case"afterblur":m=Ai;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Xh;break;case Hc:case Vc:case Kc:m=zh;break;case qc:m=ep;break;case"scroll":m=Lh;break;case"wheel":m=np;break;case"copy":case"cut":case"paste":m=Bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Na}var S=(e&4)!==0,C=!S&&t==="scroll",g=S?h!==null?h+"Capture":null:h;S=[];for(var f=u,p;f!==null;){p=f;var k=p.stateNode;if(p.tag===5&&k!==null&&(p=k,g!==null&&(k=Tr(f,g),k!=null&&S.push(Ir(f,k,p)))),C)break;f=f.return}0<S.length&&(h=new m(h,w,null,n,c),d.push({event:h,listeners:S}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==_o&&(w=n.relatedTarget||n.fromElement)&&(qt(w)||w[ut]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?qt(w):null,w!==null&&(C=sn(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(S=Oa,k="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(S=Na,k="onPointerLeave",g="onPointerEnter",f="pointer"),C=m==null?h:kn(m),p=w==null?h:kn(w),h=new S(k,f+"leave",m,n,c),h.target=C,h.relatedTarget=p,k=null,qt(c)===u&&(S=new S(g,f+"enter",w,n,c),S.target=p,S.relatedTarget=C,k=S),C=k,m&&w)t:{for(S=m,g=w,f=0,p=S;p;p=an(p))f++;for(p=0,k=g;k;k=an(k))p++;for(;0<f-p;)S=an(S),f--;for(;0<p-f;)g=an(g),p--;for(;f--;){if(S===g||g!==null&&S===g.alternate)break t;S=an(S),g=an(g)}S=null}else S=null;m!==null&&Wa(d,h,m,S,!1),w!==null&&C!==null&&Wa(d,C,w,S,!0)}}e:{if(h=u?kn(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=up;else if(La(h))if(Mc)j=hp;else{j=dp;var y=cp}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=fp);if(j&&(j=j(t,u))){Dc(d,j,n,c);break e}y&&y(t,h,u),t==="focusout"&&(y=h._wrapperState)&&y.controlled&&h.type==="number"&&go(h,"number",h.value)}switch(y=u?kn(u):window,t){case"focusin":(La(y)||y.contentEditable==="true")&&(wn=y,To=u,gr=null);break;case"focusout":gr=To=wn=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,za(d,n,c);break;case"selectionchange":if(mp)break;case"keydown":case"keyup":za(d,n,c)}var _;if(Ol)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else yn?$c(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Lc&&n.locale!=="ko"&&(yn||x!=="onCompositionStart"?x==="onCompositionEnd"&&yn&&(_=Ic()):(St=c,Tl="value"in St?St.value:St.textContent,yn=!0)),y=Ds(u,x),0<y.length&&(x=new Ra(x,t,null,n,c),d.push({event:x,listeners:y}),_?x.data=_:(_=Uc(n),_!==null&&(x.data=_)))),(_=sp?ip(t,n):op(t,n))&&(u=Ds(u,"onBeforeInput"),0<u.length&&(c=new Ra("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=_))}Gc(d,e)})}function Ir(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ds(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Tr(t,n),i!=null&&r.unshift(Ir(t,i,s)),i=Tr(t,e),i!=null&&r.push(Ir(t,i,s))),t=t.return}return r}function an(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wa(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Tr(n,i),a!=null&&o.unshift(Ir(n,a,l))):s||(a=Tr(n,i),a!=null&&o.push(Ir(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _p=/\r\n?/g,kp=/\u0000|\uFFFD/g;function Ha(t){return(typeof t=="string"?t:""+t).replace(_p,`
`).replace(kp,"")}function as(t,e,n){if(e=Ha(e),Ha(t)!==e&&n)throw Error(E(425))}function Ms(){}var Po=null,Oo=null;function Ro(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var No=typeof setTimeout=="function"?setTimeout:void 0,Sp=typeof clearTimeout=="function"?clearTimeout:void 0,Va=typeof Promise=="function"?Promise:void 0,xp=typeof queueMicrotask=="function"?queueMicrotask:typeof Va<"u"?function(t){return Va.resolve(null).then(t).catch(Ep)}:No;function Ep(t){setTimeout(function(){throw t})}function Fi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Or(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Or(e)}function Tt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ka(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vn=Math.random().toString(36).slice(2),Xe="__reactFiber$"+Vn,Lr="__reactProps$"+Vn,ut="__reactContainer$"+Vn,Ao="__reactEvents$"+Vn,jp="__reactListeners$"+Vn,Cp="__reactHandles$"+Vn;function qt(t){var e=t[Xe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ut]||n[Xe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ka(t);t!==null;){if(n=t[Xe])return n;t=Ka(t)}return e}t=n,n=t.parentNode}return null}function Kr(t){return t=t[Xe]||t[ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function ai(t){return t[Lr]||null}var Io=[],Sn=-1;function Lt(t){return{current:t}}function W(t){0>Sn||(t.current=Io[Sn],Io[Sn]=null,Sn--)}function F(t,e){Sn++,Io[Sn]=t.current,t.current=e}var At={},he=Lt(At),Se=Lt(!1),Xt=At;function $n(t,e){var n=t.type.contextTypes;if(!n)return At;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function xe(t){return t=t.childContextTypes,t!=null}function zs(){W(Se),W(he)}function qa(t,e,n){if(he.current!==At)throw Error(E(168));F(he,e),F(Se,n)}function Yc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,ch(t)||"Unknown",s));return q({},n,r)}function Fs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||At,Xt=he.current,F(he,t),F(Se,Se.current),!0}function Qa(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=Yc(t,e,Xt),r.__reactInternalMemoizedMergedChildContext=t,W(Se),W(he),F(he,t)):W(Se),F(Se,n)}var st=null,ui=!1,Bi=!1;function Xc(t){st===null?st=[t]:st.push(t)}function Tp(t){ui=!0,Xc(t)}function $t(){if(!Bi&&st!==null){Bi=!0;var t=0,e=M;try{var n=st;for(M=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}st=null,ui=!1}catch(s){throw st!==null&&(st=st.slice(t+1)),xc(xl,$t),s}finally{M=e,Bi=!1}}return null}var xn=[],En=0,Bs=null,Ws=0,Ne=[],Ae=0,Zt=null,it=1,ot="";function Wt(t,e){xn[En++]=Ws,xn[En++]=Bs,Bs=t,Ws=e}function Zc(t,e,n){Ne[Ae++]=it,Ne[Ae++]=ot,Ne[Ae++]=Zt,Zt=t;var r=it;t=ot;var s=32-Ve(r)-1;r&=~(1<<s),n+=1;var i=32-Ve(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,it=1<<32-Ve(e)+s|n<<s|r,ot=i+t}else it=1<<i|n<<s|r,ot=t}function Nl(t){t.return!==null&&(Wt(t,1),Zc(t,1,0))}function Al(t){for(;t===Bs;)Bs=xn[--En],xn[En]=null,Ws=xn[--En],xn[En]=null;for(;t===Zt;)Zt=Ne[--Ae],Ne[Ae]=null,ot=Ne[--Ae],Ne[Ae]=null,it=Ne[--Ae],Ne[Ae]=null}var Te=null,Ce=null,H=!1,He=null;function ed(t,e){var n=Ie(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ga(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Te=t,Ce=Tt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Te=t,Ce=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zt!==null?{id:it,overflow:ot}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ie(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Te=t,Ce=null,!0):!1;default:return!1}}function Lo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $o(t){if(H){var e=Ce;if(e){var n=e;if(!Ga(t,e)){if(Lo(t))throw Error(E(418));e=Tt(n.nextSibling);var r=Te;e&&Ga(t,e)?ed(r,n):(t.flags=t.flags&-4097|2,H=!1,Te=t)}}else{if(Lo(t))throw Error(E(418));t.flags=t.flags&-4097|2,H=!1,Te=t}}}function Ja(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Te=t}function us(t){if(t!==Te)return!1;if(!H)return Ja(t),H=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ro(t.type,t.memoizedProps)),e&&(e=Ce)){if(Lo(t))throw td(),Error(E(418));for(;e;)ed(t,e),e=Tt(e.nextSibling)}if(Ja(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ce=Tt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ce=null}}else Ce=Te?Tt(t.stateNode.nextSibling):null;return!0}function td(){for(var t=Ce;t;)t=Tt(t.nextSibling)}function Un(){Ce=Te=null,H=!1}function Il(t){He===null?He=[t]:He.push(t)}var bp=ft.ReactCurrentBatchConfig;function nr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function cs(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ya(t){var e=t._init;return e(t._payload)}function nd(t){function e(g,f){if(t){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function n(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Rt(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,f,p,k){return f===null||f.tag!==6?(f=Gi(p,g.mode,k),f.return=g,f):(f=s(f,p),f.return=g,f)}function a(g,f,p,k){var j=p.type;return j===vn?c(g,f,p.props.children,k,p.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===mt&&Ya(j)===f.type)?(k=s(f,p.props),k.ref=nr(g,f,p),k.return=g,k):(k=Os(p.type,p.key,p.props,null,g.mode,k),k.ref=nr(g,f,p),k.return=g,k)}function u(g,f,p,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=Ji(p,g.mode,k),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function c(g,f,p,k,j){return f===null||f.tag!==7?(f=Yt(p,g.mode,k,j),f.return=g,f):(f=s(f,p),f.return=g,f)}function d(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Gi(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Zr:return p=Os(f.type,f.key,f.props,null,g.mode,p),p.ref=nr(g,null,f),p.return=g,p;case mn:return f=Ji(f,g.mode,p),f.return=g,f;case mt:var k=f._init;return d(g,k(f._payload),p)}if(lr(f)||Yn(f))return f=Yt(f,g.mode,p,null),f.return=g,f;cs(g,f)}return null}function h(g,f,p,k){var j=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return j!==null?null:l(g,f,""+p,k);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zr:return p.key===j?a(g,f,p,k):null;case mn:return p.key===j?u(g,f,p,k):null;case mt:return j=p._init,h(g,f,j(p._payload),k)}if(lr(p)||Yn(p))return j!==null?null:c(g,f,p,k,null);cs(g,p)}return null}function m(g,f,p,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(p)||null,l(f,g,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Zr:return g=g.get(k.key===null?p:k.key)||null,a(f,g,k,j);case mn:return g=g.get(k.key===null?p:k.key)||null,u(f,g,k,j);case mt:var y=k._init;return m(g,f,p,y(k._payload),j)}if(lr(k)||Yn(k))return g=g.get(p)||null,c(f,g,k,j,null);cs(f,k)}return null}function w(g,f,p,k){for(var j=null,y=null,_=f,x=f=0,O=null;_!==null&&x<p.length;x++){_.index>x?(O=_,_=null):O=_.sibling;var P=h(g,_,p[x],k);if(P===null){_===null&&(_=O);break}t&&_&&P.alternate===null&&e(g,_),f=i(P,f,x),y===null?j=P:y.sibling=P,y=P,_=O}if(x===p.length)return n(g,_),H&&Wt(g,x),j;if(_===null){for(;x<p.length;x++)_=d(g,p[x],k),_!==null&&(f=i(_,f,x),y===null?j=_:y.sibling=_,y=_);return H&&Wt(g,x),j}for(_=r(g,_);x<p.length;x++)O=m(_,g,x,p[x],k),O!==null&&(t&&O.alternate!==null&&_.delete(O.key===null?x:O.key),f=i(O,f,x),y===null?j=O:y.sibling=O,y=O);return t&&_.forEach(function(U){return e(g,U)}),H&&Wt(g,x),j}function S(g,f,p,k){var j=Yn(p);if(typeof j!="function")throw Error(E(150));if(p=j.call(p),p==null)throw Error(E(151));for(var y=j=null,_=f,x=f=0,O=null,P=p.next();_!==null&&!P.done;x++,P=p.next()){_.index>x?(O=_,_=null):O=_.sibling;var U=h(g,_,P.value,k);if(U===null){_===null&&(_=O);break}t&&_&&U.alternate===null&&e(g,_),f=i(U,f,x),y===null?j=U:y.sibling=U,y=U,_=O}if(P.done)return n(g,_),H&&Wt(g,x),j;if(_===null){for(;!P.done;x++,P=p.next())P=d(g,P.value,k),P!==null&&(f=i(P,f,x),y===null?j=P:y.sibling=P,y=P);return H&&Wt(g,x),j}for(_=r(g,_);!P.done;x++,P=p.next())P=m(_,g,x,P.value,k),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?x:P.key),f=i(P,f,x),y===null?j=P:y.sibling=P,y=P);return t&&_.forEach(function(Q){return e(g,Q)}),H&&Wt(g,x),j}function C(g,f,p,k){if(typeof p=="object"&&p!==null&&p.type===vn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Zr:e:{for(var j=p.key,y=f;y!==null;){if(y.key===j){if(j=p.type,j===vn){if(y.tag===7){n(g,y.sibling),f=s(y,p.props.children),f.return=g,g=f;break e}}else if(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===mt&&Ya(j)===y.type){n(g,y.sibling),f=s(y,p.props),f.ref=nr(g,y,p),f.return=g,g=f;break e}n(g,y);break}else e(g,y);y=y.sibling}p.type===vn?(f=Yt(p.props.children,g.mode,k,p.key),f.return=g,g=f):(k=Os(p.type,p.key,p.props,null,g.mode,k),k.ref=nr(g,f,p),k.return=g,g=k)}return o(g);case mn:e:{for(y=p.key;f!==null;){if(f.key===y)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else e(g,f);f=f.sibling}f=Ji(p,g.mode,k),f.return=g,g=f}return o(g);case mt:return y=p._init,C(g,f,y(p._payload),k)}if(lr(p))return w(g,f,p,k);if(Yn(p))return S(g,f,p,k);cs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(g,f.sibling),f=s(f,p),f.return=g,g=f):(n(g,f),f=Gi(p,g.mode,k),f.return=g,g=f),o(g)):n(g,f)}return C}var Dn=nd(!0),rd=nd(!1),Hs=Lt(null),Vs=null,jn=null,Ll=null;function $l(){Ll=jn=Vs=null}function Ul(t){var e=Hs.current;W(Hs),t._currentValue=e}function Uo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Nn(t,e){Vs=t,Ll=jn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ke=!0),t.firstContext=null)}function Ue(t){var e=t._currentValue;if(Ll!==t)if(t={context:t,memoizedValue:e,next:null},jn===null){if(Vs===null)throw Error(E(308));jn=t,Vs.dependencies={lanes:0,firstContext:t}}else jn=jn.next=t;return e}var Qt=null;function Dl(t){Qt===null?Qt=[t]:Qt.push(t)}function sd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Dl(e)):(n.next=s.next,s.next=n),e.interleaved=n,ct(t,r)}function ct(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vt=!1;function Ml(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function id(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,D&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ct(t,n)}return s=r.interleaved,s===null?(e.next=e,Dl(r)):(e.next=s.next,s.next=e),r.interleaved=e,ct(t,n)}function Es(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,El(t,n)}}function Xa(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ks(t,e,n,r){var s=t.updateQueue;vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,c=u=a=null,l=i;do{var h=l.lane,m=l.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,S=l;switch(h=e,m=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){d=w.call(m,d,h);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,h=typeof w=="function"?w.call(m,d,h):w,h==null)break e;d=q({},d,h);break e;case 2:vt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=d):c=c.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(a=d),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);tn|=o,t.lanes=o,t.memoizedState=d}}function Za(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var qr={},et=Lt(qr),$r=Lt(qr),Ur=Lt(qr);function Gt(t){if(t===qr)throw Error(E(174));return t}function zl(t,e){switch(F(Ur,e),F($r,t),F(et,qr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vo(e,t)}W(et),F(et,e)}function Mn(){W(et),W($r),W(Ur)}function od(t){Gt(Ur.current);var e=Gt(et.current),n=vo(e,t.type);e!==n&&(F($r,t),F(et,n))}function Fl(t){$r.current===t&&(W(et),W($r))}var V=Lt(0);function qs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wi=[];function Bl(){for(var t=0;t<Wi.length;t++)Wi[t]._workInProgressVersionPrimary=null;Wi.length=0}var js=ft.ReactCurrentDispatcher,Hi=ft.ReactCurrentBatchConfig,en=0,K=null,ne=null,ie=null,Qs=!1,mr=!1,Dr=0,Pp=0;function ce(){throw Error(E(321))}function Wl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qe(t[n],e[n]))return!1;return!0}function Hl(t,e,n,r,s,i){if(en=i,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,js.current=t===null||t.memoizedState===null?Ap:Ip,t=n(r,s),mr){i=0;do{if(mr=!1,Dr=0,25<=i)throw Error(E(301));i+=1,ie=ne=null,e.updateQueue=null,js.current=Lp,t=n(r,s)}while(mr)}if(js.current=Gs,e=ne!==null&&ne.next!==null,en=0,ie=ne=K=null,Qs=!1,e)throw Error(E(300));return t}function Vl(){var t=Dr!==0;return Dr=0,t}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?K.memoizedState=ie=t:ie=ie.next=t,ie}function De(){if(ne===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=ie===null?K.memoizedState:ie.next;if(e!==null)ie=e,ne=t;else{if(t===null)throw Error(E(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},ie===null?K.memoizedState=ie=t:ie=ie.next=t}return ie}function Mr(t,e){return typeof e=="function"?e(t):e}function Vi(t){var e=De(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=ne,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((en&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,K.lanes|=c,tn|=c}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,qe(r,e.memoizedState)||(ke=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,K.lanes|=i,tn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ki(t){var e=De(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);qe(i,e.memoizedState)||(ke=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ld(){}function ad(t,e){var n=K,r=De(),s=e(),i=!qe(r.memoizedState,s);if(i&&(r.memoizedState=s,ke=!0),r=r.queue,Kl(dd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,zr(9,cd.bind(null,n,r,s,e),void 0,null),oe===null)throw Error(E(349));en&30||ud(n,e,s)}return s}function ud(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cd(t,e,n,r){e.value=n,e.getSnapshot=r,fd(e)&&hd(t)}function dd(t,e,n){return n(function(){fd(e)&&hd(t)})}function fd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qe(t,n)}catch{return!0}}function hd(t){var e=ct(t,1);e!==null&&Ke(e,t,1,-1)}function eu(t){var e=Je();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:t},e.queue=t,t=t.dispatch=Np.bind(null,K,t),[e.memoizedState,t]}function zr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function pd(){return De().memoizedState}function Cs(t,e,n,r){var s=Je();K.flags|=t,s.memoizedState=zr(1|e,n,void 0,r===void 0?null:r)}function ci(t,e,n,r){var s=De();r=r===void 0?null:r;var i=void 0;if(ne!==null){var o=ne.memoizedState;if(i=o.destroy,r!==null&&Wl(r,o.deps)){s.memoizedState=zr(e,n,i,r);return}}K.flags|=t,s.memoizedState=zr(1|e,n,i,r)}function tu(t,e){return Cs(8390656,8,t,e)}function Kl(t,e){return ci(2048,8,t,e)}function gd(t,e){return ci(4,2,t,e)}function md(t,e){return ci(4,4,t,e)}function vd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yd(t,e,n){return n=n!=null?n.concat([t]):null,ci(4,4,vd.bind(null,e,t),n)}function ql(){}function wd(t,e){var n=De();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _d(t,e){var n=De();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kd(t,e,n){return en&21?(qe(n,e)||(n=Cc(),K.lanes|=n,tn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ke=!0),t.memoizedState=n)}function Op(t,e){var n=M;M=n!==0&&4>n?n:4,t(!0);var r=Hi.transition;Hi.transition={};try{t(!1),e()}finally{M=n,Hi.transition=r}}function Sd(){return De().memoizedState}function Rp(t,e,n){var r=Ot(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xd(t))Ed(e,n);else if(n=sd(t,e,n,r),n!==null){var s=me();Ke(n,t,r,s),jd(n,e,r)}}function Np(t,e,n){var r=Ot(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xd(t))Ed(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,qe(l,o)){var a=e.interleaved;a===null?(s.next=s,Dl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=sd(t,e,s,r),n!==null&&(s=me(),Ke(n,t,r,s),jd(n,e,r))}}function xd(t){var e=t.alternate;return t===K||e!==null&&e===K}function Ed(t,e){mr=Qs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,El(t,n)}}var Gs={readContext:Ue,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},Ap={readContext:Ue,useCallback:function(t,e){return Je().memoizedState=[t,e===void 0?null:e],t},useContext:Ue,useEffect:tu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cs(4194308,4,vd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cs(4,2,t,e)},useMemo:function(t,e){var n=Je();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Je();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Rp.bind(null,K,t),[r.memoizedState,t]},useRef:function(t){var e=Je();return t={current:t},e.memoizedState=t},useState:eu,useDebugValue:ql,useDeferredValue:function(t){return Je().memoizedState=t},useTransition:function(){var t=eu(!1),e=t[0];return t=Op.bind(null,t[1]),Je().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=K,s=Je();if(H){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),oe===null)throw Error(E(349));en&30||ud(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,tu(dd.bind(null,r,i,t),[t]),r.flags|=2048,zr(9,cd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Je(),e=oe.identifierPrefix;if(H){var n=ot,r=it;n=(r&~(1<<32-Ve(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Pp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ip={readContext:Ue,useCallback:wd,useContext:Ue,useEffect:Kl,useImperativeHandle:yd,useInsertionEffect:gd,useLayoutEffect:md,useMemo:_d,useReducer:Vi,useRef:pd,useState:function(){return Vi(Mr)},useDebugValue:ql,useDeferredValue:function(t){var e=De();return kd(e,ne.memoizedState,t)},useTransition:function(){var t=Vi(Mr)[0],e=De().memoizedState;return[t,e]},useMutableSource:ld,useSyncExternalStore:ad,useId:Sd,unstable_isNewReconciler:!1},Lp={readContext:Ue,useCallback:wd,useContext:Ue,useEffect:Kl,useImperativeHandle:yd,useInsertionEffect:gd,useLayoutEffect:md,useMemo:_d,useReducer:Ki,useRef:pd,useState:function(){return Ki(Mr)},useDebugValue:ql,useDeferredValue:function(t){var e=De();return ne===null?e.memoizedState=t:kd(e,ne.memoizedState,t)},useTransition:function(){var t=Ki(Mr)[0],e=De().memoizedState;return[t,e]},useMutableSource:ld,useSyncExternalStore:ad,useId:Sd,unstable_isNewReconciler:!1};function Fe(t,e){if(t&&t.defaultProps){e=q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Do(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var di={isMounted:function(t){return(t=t._reactInternals)?sn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=me(),s=Ot(t),i=lt(r,s);i.payload=e,n!=null&&(i.callback=n),e=bt(t,i,s),e!==null&&(Ke(e,t,s,r),Es(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=me(),s=Ot(t),i=lt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=bt(t,i,s),e!==null&&(Ke(e,t,s,r),Es(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=me(),r=Ot(t),s=lt(n,r);s.tag=2,e!=null&&(s.callback=e),e=bt(t,s,r),e!==null&&(Ke(e,t,r,n),Es(e,t,r))}};function nu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Nr(n,r)||!Nr(s,i):!0}function Cd(t,e,n){var r=!1,s=At,i=e.contextType;return typeof i=="object"&&i!==null?i=Ue(i):(s=xe(e)?Xt:he.current,r=e.contextTypes,i=(r=r!=null)?$n(t,s):At),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=di,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ru(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&di.enqueueReplaceState(e,e.state,null)}function Mo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ml(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ue(i):(i=xe(e)?Xt:he.current,s.context=$n(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Do(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&di.enqueueReplaceState(s,s.state,null),Ks(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zn(t,e){try{var n="",r=e;do n+=uh(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $p=typeof WeakMap=="function"?WeakMap:Map;function Td(t,e,n){n=lt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ys||(Ys=!0,Jo=r),zo(t,e)},n}function bd(t,e,n){n=lt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){zo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zo(t,e),typeof r!="function"&&(Pt===null?Pt=new Set([this]):Pt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function su(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $p;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Jp.bind(null,t,e,n),e.then(t,t))}function iu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ou(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lt(-1,1),e.tag=2,bt(n,e,1))),n.lanes|=1),t)}var Up=ft.ReactCurrentOwner,ke=!1;function ge(t,e,n,r){e.child=t===null?rd(e,null,n,r):Dn(e,t.child,n,r)}function lu(t,e,n,r,s){n=n.render;var i=e.ref;return Nn(e,s),r=Hl(t,e,n,r,i,s),n=Vl(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dt(t,e,s)):(H&&n&&Nl(e),e.flags|=1,ge(t,e,r,s),e.child)}function au(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ta(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Pd(t,e,i,r,s)):(t=Os(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Nr,n(o,r)&&t.ref===e.ref)return dt(t,e,s)}return e.flags|=1,t=Rt(i,r),t.ref=e.ref,t.return=e,e.child=t}function Pd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Nr(i,r)&&t.ref===e.ref)if(ke=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ke=!0);else return e.lanes=t.lanes,dt(t,e,s)}return Fo(t,e,n,r,s)}function Od(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},F(Tn,je),je|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,F(Tn,je),je|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,F(Tn,je),je|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,F(Tn,je),je|=r;return ge(t,e,s,n),e.child}function Rd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fo(t,e,n,r,s){var i=xe(n)?Xt:he.current;return i=$n(e,i),Nn(e,s),n=Hl(t,e,n,r,i,s),r=Vl(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dt(t,e,s)):(H&&r&&Nl(e),e.flags|=1,ge(t,e,n,s),e.child)}function uu(t,e,n,r,s){if(xe(n)){var i=!0;Fs(e)}else i=!1;if(Nn(e,s),e.stateNode===null)Ts(t,e),Cd(e,n,r),Mo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ue(u):(u=xe(n)?Xt:he.current,u=$n(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ru(e,o,r,u),vt=!1;var h=e.memoizedState;o.state=h,Ks(e,r,o,s),a=e.memoizedState,l!==r||h!==a||Se.current||vt?(typeof c=="function"&&(Do(e,n,c,r),a=e.memoizedState),(l=vt||nu(e,n,l,r,h,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,id(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Fe(e.type,l),o.props=u,d=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ue(a):(a=xe(n)?Xt:he.current,a=$n(e,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==a)&&ru(e,o,r,a),vt=!1,h=e.memoizedState,o.state=h,Ks(e,r,o,s);var w=e.memoizedState;l!==d||h!==w||Se.current||vt?(typeof m=="function"&&(Do(e,n,m,r),w=e.memoizedState),(u=vt||nu(e,n,u,r,h,w,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Bo(t,e,n,r,i,s)}function Bo(t,e,n,r,s,i){Rd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Qa(e,n,!1),dt(t,e,i);r=e.stateNode,Up.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Dn(e,t.child,null,i),e.child=Dn(e,null,l,i)):ge(t,e,l,i),e.memoizedState=r.state,s&&Qa(e,n,!0),e.child}function Nd(t){var e=t.stateNode;e.pendingContext?qa(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qa(t,e.context,!1),zl(t,e.containerInfo)}function cu(t,e,n,r,s){return Un(),Il(s),e.flags|=256,ge(t,e,n,r),e.child}var Wo={dehydrated:null,treeContext:null,retryLane:0};function Ho(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ad(t,e,n){var r=e.pendingProps,s=V.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),F(V,s&1),t===null)return $o(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pi(o,r,0,null),t=Yt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ho(n),e.memoizedState=Wo,t):Ql(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Dp(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Rt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Rt(l,i):(i=Yt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ho(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Wo,r}return i=t.child,t=i.sibling,r=Rt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ql(t,e){return e=pi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ds(t,e,n,r){return r!==null&&Il(r),Dn(e,t.child,null,n),t=Ql(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=qi(Error(E(422))),ds(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=pi({mode:"visible",children:r.children},s,0,null),i=Yt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Dn(e,t.child,null,o),e.child.memoizedState=Ho(o),e.memoizedState=Wo,i);if(!(e.mode&1))return ds(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(E(419)),r=qi(i,r,void 0),ds(t,e,o,r)}if(l=(o&t.childLanes)!==0,ke||l){if(r=oe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ct(t,s),Ke(r,t,s,-1))}return ea(),r=qi(Error(E(421))),ds(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Yp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ce=Tt(s.nextSibling),Te=e,H=!0,He=null,t!==null&&(Ne[Ae++]=it,Ne[Ae++]=ot,Ne[Ae++]=Zt,it=t.id,ot=t.overflow,Zt=e),e=Ql(e,r.children),e.flags|=4096,e)}function du(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uo(t.return,e,n)}function Qi(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Id(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ge(t,e,r.children,n),r=V.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&du(t,n,e);else if(t.tag===19)du(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(F(V,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Qi(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Qi(e,!0,n,null,i);break;case"together":Qi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ts(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Rt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mp(t,e,n){switch(e.tag){case 3:Nd(e),Un();break;case 5:od(e);break;case 1:xe(e.type)&&Fs(e);break;case 4:zl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;F(Hs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(F(V,V.current&1),e.flags|=128,null):n&e.child.childLanes?Ad(t,e,n):(F(V,V.current&1),t=dt(t,e,n),t!==null?t.sibling:null);F(V,V.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Id(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(V,V.current),r)break;return null;case 22:case 23:return e.lanes=0,Od(t,e,n)}return dt(t,e,n)}var Ld,Vo,$d,Ud;Ld=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vo=function(){};$d=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Gt(et.current);var i=null;switch(n){case"input":s=ho(t,s),r=ho(t,r),i=[];break;case"select":s=q({},s,{value:void 0}),r=q({},r,{value:void 0}),i=[];break;case"textarea":s=mo(t,s),r=mo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ms)}yo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(jr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(jr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&B("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Ud=function(t,e,n,r){n!==r&&(e.flags|=4)};function rr(t,e){if(!H)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function de(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zp(t,e,n){var r=e.pendingProps;switch(Al(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(e),null;case 1:return xe(e.type)&&zs(),de(e),null;case 3:return r=e.stateNode,Mn(),W(Se),W(he),Bl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(us(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,He!==null&&(Zo(He),He=null))),Vo(t,e),de(e),null;case 5:Fl(e);var s=Gt(Ur.current);if(n=e.type,t!==null&&e.stateNode!=null)$d(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return de(e),null}if(t=Gt(et.current),us(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Xe]=e,r[Lr]=i,t=(e.mode&1)!==0,n){case"dialog":B("cancel",r),B("close",r);break;case"iframe":case"object":case"embed":B("load",r);break;case"video":case"audio":for(s=0;s<ur.length;s++)B(ur[s],r);break;case"source":B("error",r);break;case"img":case"image":case"link":B("error",r),B("load",r);break;case"details":B("toggle",r);break;case"input":_a(r,i),B("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},B("invalid",r);break;case"textarea":Sa(r,i),B("invalid",r)}yo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&as(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&as(r.textContent,l,t),s=["children",""+l]):jr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&B("scroll",r)}switch(n){case"input":es(r),ka(r,i,!0);break;case"textarea":es(r),xa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ms)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xe]=e,t[Lr]=r,Ld(t,e,!1,!1),e.stateNode=t;e:{switch(o=wo(n,r),n){case"dialog":B("cancel",t),B("close",t),s=r;break;case"iframe":case"object":case"embed":B("load",t),s=r;break;case"video":case"audio":for(s=0;s<ur.length;s++)B(ur[s],t);s=r;break;case"source":B("error",t),s=r;break;case"img":case"image":case"link":B("error",t),B("load",t),s=r;break;case"details":B("toggle",t),s=r;break;case"input":_a(t,r),s=ho(t,r),B("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=q({},r,{value:void 0}),B("invalid",t);break;case"textarea":Sa(t,r),s=mo(t,r),B("invalid",t);break;default:s=r}yo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?pc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&fc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Cr(t,a):typeof a=="number"&&Cr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(jr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&B("scroll",t):a!=null&&yl(t,i,a,o))}switch(n){case"input":es(t),ka(t,r,!1);break;case"textarea":es(t),xa(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?bn(t,!!r.multiple,i,!1):r.defaultValue!=null&&bn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ms)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return de(e),null;case 6:if(t&&e.stateNode!=null)Ud(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=Gt(Ur.current),Gt(et.current),us(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xe]=e,(i=r.nodeValue!==n)&&(t=Te,t!==null))switch(t.tag){case 3:as(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&as(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xe]=e,e.stateNode=r}return de(e),null;case 13:if(W(V),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(H&&Ce!==null&&e.mode&1&&!(e.flags&128))td(),Un(),e.flags|=98560,i=!1;else if(i=us(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[Xe]=e}else Un(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;de(e),i=!1}else He!==null&&(Zo(He),He=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||V.current&1?re===0&&(re=3):ea())),e.updateQueue!==null&&(e.flags|=4),de(e),null);case 4:return Mn(),Vo(t,e),t===null&&Ar(e.stateNode.containerInfo),de(e),null;case 10:return Ul(e.type._context),de(e),null;case 17:return xe(e.type)&&zs(),de(e),null;case 19:if(W(V),i=e.memoizedState,i===null)return de(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)rr(i,!1);else{if(re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qs(t),o!==null){for(e.flags|=128,rr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return F(V,V.current&1|2),e.child}t=t.sibling}i.tail!==null&&Y()>Fn&&(e.flags|=128,r=!0,rr(i,!1),e.lanes=4194304)}else{if(!r)if(t=qs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!H)return de(e),null}else 2*Y()-i.renderingStartTime>Fn&&n!==1073741824&&(e.flags|=128,r=!0,rr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Y(),e.sibling=null,n=V.current,F(V,r?n&1|2:n&1),e):(de(e),null);case 22:case 23:return Zl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?je&1073741824&&(de(e),e.subtreeFlags&6&&(e.flags|=8192)):de(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Fp(t,e){switch(Al(e),e.tag){case 1:return xe(e.type)&&zs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mn(),W(Se),W(he),Bl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fl(e),null;case 13:if(W(V),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Un()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return W(V),null;case 4:return Mn(),null;case 10:return Ul(e.type._context),null;case 22:case 23:return Zl(),null;case 24:return null;default:return null}}var fs=!1,fe=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,b=null;function Cn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){G(t,e,r)}else n.current=null}function Ko(t,e,n){try{n()}catch(r){G(t,e,r)}}var fu=!1;function Wp(t,e){if(Po=$s,t=Bc(),Rl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var m;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===n&&++u===s&&(l=o),h===i&&++c===r&&(a=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oo={focusedElem:t,selectionRange:n},$s=!1,b=e;b!==null;)if(e=b,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,b=t;else for(;b!==null;){e=b;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,C=w.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?S:Fe(e.type,S),C);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(k){G(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,b=t;break}b=e.return}return w=fu,fu=!1,w}function vr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ko(e,n,i)}s=s.next}while(s!==r)}}function fi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Dd(t){var e=t.alternate;e!==null&&(t.alternate=null,Dd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xe],delete e[Lr],delete e[Ao],delete e[jp],delete e[Cp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Md(t){return t.tag===5||t.tag===3||t.tag===4}function hu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Md(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ms));else if(r!==4&&(t=t.child,t!==null))for(Qo(t,e,n),t=t.sibling;t!==null;)Qo(t,e,n),t=t.sibling}function Go(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Go(t,e,n),t=t.sibling;t!==null;)Go(t,e,n),t=t.sibling}var le=null,Be=!1;function ht(t,e,n){for(n=n.child;n!==null;)zd(t,e,n),n=n.sibling}function zd(t,e,n){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(si,n)}catch{}switch(n.tag){case 5:fe||Cn(n,e);case 6:var r=le,s=Be;le=null,ht(t,e,n),le=r,Be=s,le!==null&&(Be?(t=le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):le.removeChild(n.stateNode));break;case 18:le!==null&&(Be?(t=le,n=n.stateNode,t.nodeType===8?Fi(t.parentNode,n):t.nodeType===1&&Fi(t,n),Or(t)):Fi(le,n.stateNode));break;case 4:r=le,s=Be,le=n.stateNode.containerInfo,Be=!0,ht(t,e,n),le=r,Be=s;break;case 0:case 11:case 14:case 15:if(!fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ko(n,e,o),s=s.next}while(s!==r)}ht(t,e,n);break;case 1:if(!fe&&(Cn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){G(n,e,l)}ht(t,e,n);break;case 21:ht(t,e,n);break;case 22:n.mode&1?(fe=(r=fe)||n.memoizedState!==null,ht(t,e,n),fe=r):ht(t,e,n);break;default:ht(t,e,n)}}function pu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Bp),e.forEach(function(r){var s=Xp.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Me(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:le=l.stateNode,Be=!1;break e;case 3:le=l.stateNode.containerInfo,Be=!0;break e;case 4:le=l.stateNode.containerInfo,Be=!0;break e}l=l.return}if(le===null)throw Error(E(160));zd(i,o,s),le=null,Be=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){G(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fd(e,t),e=e.sibling}function Fd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Me(e,t),Ge(t),r&4){try{vr(3,t,t.return),fi(3,t)}catch(S){G(t,t.return,S)}try{vr(5,t,t.return)}catch(S){G(t,t.return,S)}}break;case 1:Me(e,t),Ge(t),r&512&&n!==null&&Cn(n,n.return);break;case 5:if(Me(e,t),Ge(t),r&512&&n!==null&&Cn(n,n.return),t.flags&32){var s=t.stateNode;try{Cr(s,"")}catch(S){G(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&uc(s,i),wo(l,o);var u=wo(l,i);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?pc(s,d):c==="dangerouslySetInnerHTML"?fc(s,d):c==="children"?Cr(s,d):yl(s,c,d,u)}switch(l){case"input":po(s,i);break;case"textarea":cc(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?bn(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?bn(s,!!i.multiple,i.defaultValue,!0):bn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Lr]=i}catch(S){G(t,t.return,S)}}break;case 6:if(Me(e,t),Ge(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){G(t,t.return,S)}}break;case 3:if(Me(e,t),Ge(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Or(e.containerInfo)}catch(S){G(t,t.return,S)}break;case 4:Me(e,t),Ge(t);break;case 13:Me(e,t),Ge(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yl=Y())),r&4&&pu(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(fe=(u=fe)||c,Me(e,t),fe=u):Me(e,t),Ge(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(b=t,c=t.child;c!==null;){for(d=b=c;b!==null;){switch(h=b,m=h.child,h.tag){case 0:case 11:case 14:case 15:vr(4,h,h.return);break;case 1:Cn(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(S){G(r,n,S)}}break;case 5:Cn(h,h.return);break;case 22:if(h.memoizedState!==null){mu(d);continue}}m!==null?(m.return=h,b=m):mu(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=hc("display",o))}catch(S){G(t,t.return,S)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(S){G(t,t.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Me(e,t),Ge(t),r&4&&pu(t);break;case 21:break;default:Me(e,t),Ge(t)}}function Ge(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Md(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Cr(s,""),r.flags&=-33);var i=hu(t);Go(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=hu(t);Qo(t,l,o);break;default:throw Error(E(161))}}catch(a){G(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hp(t,e,n){b=t,Bd(t)}function Bd(t,e,n){for(var r=(t.mode&1)!==0;b!==null;){var s=b,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||fe;l=fs;var u=fe;if(fs=o,(fe=a)&&!u)for(b=s;b!==null;)o=b,a=o.child,o.tag===22&&o.memoizedState!==null?vu(s):a!==null?(a.return=o,b=a):vu(s);for(;i!==null;)b=i,Bd(i),i=i.sibling;b=s,fs=l,fe=u}gu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,b=i):gu(t)}}function gu(t){for(;b!==null;){var e=b;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fe||fi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Fe(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Za(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Za(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Or(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}fe||e.flags&512&&qo(e)}catch(h){G(e,e.return,h)}}if(e===t){b=null;break}if(n=e.sibling,n!==null){n.return=e.return,b=n;break}b=e.return}}function mu(t){for(;b!==null;){var e=b;if(e===t){b=null;break}var n=e.sibling;if(n!==null){n.return=e.return,b=n;break}b=e.return}}function vu(t){for(;b!==null;){var e=b;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fi(4,e)}catch(a){G(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){G(e,s,a)}}var i=e.return;try{qo(e)}catch(a){G(e,i,a)}break;case 5:var o=e.return;try{qo(e)}catch(a){G(e,o,a)}}}catch(a){G(e,e.return,a)}if(e===t){b=null;break}var l=e.sibling;if(l!==null){l.return=e.return,b=l;break}b=e.return}}var Vp=Math.ceil,Js=ft.ReactCurrentDispatcher,Gl=ft.ReactCurrentOwner,Le=ft.ReactCurrentBatchConfig,D=0,oe=null,X=null,ae=0,je=0,Tn=Lt(0),re=0,Fr=null,tn=0,hi=0,Jl=0,yr=null,we=null,Yl=0,Fn=1/0,nt=null,Ys=!1,Jo=null,Pt=null,hs=!1,xt=null,Xs=0,wr=0,Yo=null,bs=-1,Ps=0;function me(){return D&6?Y():bs!==-1?bs:bs=Y()}function Ot(t){return t.mode&1?D&2&&ae!==0?ae&-ae:bp.transition!==null?(Ps===0&&(Ps=Cc()),Ps):(t=M,t!==0||(t=window.event,t=t===void 0?16:Ac(t.type)),t):1}function Ke(t,e,n,r){if(50<wr)throw wr=0,Yo=null,Error(E(185));Hr(t,n,r),(!(D&2)||t!==oe)&&(t===oe&&(!(D&2)&&(hi|=n),re===4&&_t(t,ae)),Ee(t,r),n===1&&D===0&&!(e.mode&1)&&(Fn=Y()+500,ui&&$t()))}function Ee(t,e){var n=t.callbackNode;bh(t,e);var r=Ls(t,t===oe?ae:0);if(r===0)n!==null&&Ca(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ca(n),e===1)t.tag===0?Tp(yu.bind(null,t)):Xc(yu.bind(null,t)),xp(function(){!(D&6)&&$t()}),n=null;else{switch(Tc(r)){case 1:n=xl;break;case 4:n=Ec;break;case 16:n=Is;break;case 536870912:n=jc;break;default:n=Is}n=Jd(n,Wd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Wd(t,e){if(bs=-1,Ps=0,D&6)throw Error(E(327));var n=t.callbackNode;if(An()&&t.callbackNode!==n)return null;var r=Ls(t,t===oe?ae:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zs(t,r);else{e=r;var s=D;D|=2;var i=Vd();(oe!==t||ae!==e)&&(nt=null,Fn=Y()+500,Jt(t,e));do try{Qp();break}catch(l){Hd(t,l)}while(!0);$l(),Js.current=i,D=s,X!==null?e=0:(oe=null,ae=0,e=re)}if(e!==0){if(e===2&&(s=Eo(t),s!==0&&(r=s,e=Xo(t,s))),e===1)throw n=Fr,Jt(t,0),_t(t,r),Ee(t,Y()),n;if(e===6)_t(t,r);else{if(s=t.current.alternate,!(r&30)&&!Kp(s)&&(e=Zs(t,r),e===2&&(i=Eo(t),i!==0&&(r=i,e=Xo(t,i))),e===1))throw n=Fr,Jt(t,0),_t(t,r),Ee(t,Y()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Ht(t,we,nt);break;case 3:if(_t(t,r),(r&130023424)===r&&(e=Yl+500-Y(),10<e)){if(Ls(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){me(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=No(Ht.bind(null,t,we,nt),e);break}Ht(t,we,nt);break;case 4:if(_t(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ve(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Y()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Vp(r/1960))-r,10<r){t.timeoutHandle=No(Ht.bind(null,t,we,nt),r);break}Ht(t,we,nt);break;case 5:Ht(t,we,nt);break;default:throw Error(E(329))}}}return Ee(t,Y()),t.callbackNode===n?Wd.bind(null,t):null}function Xo(t,e){var n=yr;return t.current.memoizedState.isDehydrated&&(Jt(t,e).flags|=256),t=Zs(t,e),t!==2&&(e=we,we=n,e!==null&&Zo(e)),t}function Zo(t){we===null?we=t:we.push.apply(we,t)}function Kp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qe(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _t(t,e){for(e&=~Jl,e&=~hi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ve(e),r=1<<n;t[n]=-1,e&=~r}}function yu(t){if(D&6)throw Error(E(327));An();var e=Ls(t,0);if(!(e&1))return Ee(t,Y()),null;var n=Zs(t,e);if(t.tag!==0&&n===2){var r=Eo(t);r!==0&&(e=r,n=Xo(t,r))}if(n===1)throw n=Fr,Jt(t,0),_t(t,e),Ee(t,Y()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ht(t,we,nt),Ee(t,Y()),null}function Xl(t,e){var n=D;D|=1;try{return t(e)}finally{D=n,D===0&&(Fn=Y()+500,ui&&$t())}}function nn(t){xt!==null&&xt.tag===0&&!(D&6)&&An();var e=D;D|=1;var n=Le.transition,r=M;try{if(Le.transition=null,M=1,t)return t()}finally{M=r,Le.transition=n,D=e,!(D&6)&&$t()}}function Zl(){je=Tn.current,W(Tn)}function Jt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Sp(n)),X!==null)for(n=X.return;n!==null;){var r=n;switch(Al(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zs();break;case 3:Mn(),W(Se),W(he),Bl();break;case 5:Fl(r);break;case 4:Mn();break;case 13:W(V);break;case 19:W(V);break;case 10:Ul(r.type._context);break;case 22:case 23:Zl()}n=n.return}if(oe=t,X=t=Rt(t.current,null),ae=je=e,re=0,Fr=null,Jl=hi=tn=0,we=yr=null,Qt!==null){for(e=0;e<Qt.length;e++)if(n=Qt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Qt=null}return t}function Hd(t,e){do{var n=X;try{if($l(),js.current=Gs,Qs){for(var r=K.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qs=!1}if(en=0,ie=ne=K=null,mr=!1,Dr=0,Gl.current=null,n===null||n.return===null){re=1,Fr=e,X=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=ae,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=iu(o);if(m!==null){m.flags&=-257,ou(m,o,l,i,e),m.mode&1&&su(i,u,e),e=m,a=u;var w=e.updateQueue;if(w===null){var S=new Set;S.add(a),e.updateQueue=S}else w.add(a);break e}else{if(!(e&1)){su(i,u,e),ea();break e}a=Error(E(426))}}else if(H&&l.mode&1){var C=iu(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),ou(C,o,l,i,e),Il(zn(a,l));break e}}i=a=zn(a,l),re!==4&&(re=2),yr===null?yr=[i]:yr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Td(i,a,e);Xa(i,g);break e;case 1:l=a;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Pt===null||!Pt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=bd(i,l,e);Xa(i,k);break e}}i=i.return}while(i!==null)}qd(n)}catch(j){e=j,X===n&&n!==null&&(X=n=n.return);continue}break}while(!0)}function Vd(){var t=Js.current;return Js.current=Gs,t===null?Gs:t}function ea(){(re===0||re===3||re===2)&&(re=4),oe===null||!(tn&268435455)&&!(hi&268435455)||_t(oe,ae)}function Zs(t,e){var n=D;D|=2;var r=Vd();(oe!==t||ae!==e)&&(nt=null,Jt(t,e));do try{qp();break}catch(s){Hd(t,s)}while(!0);if($l(),D=n,Js.current=r,X!==null)throw Error(E(261));return oe=null,ae=0,re}function qp(){for(;X!==null;)Kd(X)}function Qp(){for(;X!==null&&!wh();)Kd(X)}function Kd(t){var e=Gd(t.alternate,t,je);t.memoizedProps=t.pendingProps,e===null?qd(t):X=e,Gl.current=null}function qd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Fp(n,e),n!==null){n.flags&=32767,X=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{re=6,X=null;return}}else if(n=zp(n,e,je),n!==null){X=n;return}if(e=e.sibling,e!==null){X=e;return}X=e=t}while(e!==null);re===0&&(re=5)}function Ht(t,e,n){var r=M,s=Le.transition;try{Le.transition=null,M=1,Gp(t,e,n,r)}finally{Le.transition=s,M=r}return null}function Gp(t,e,n,r){do An();while(xt!==null);if(D&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ph(t,i),t===oe&&(X=oe=null,ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hs||(hs=!0,Jd(Is,function(){return An(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Le.transition,Le.transition=null;var o=M;M=1;var l=D;D|=4,Gl.current=null,Wp(t,n),Fd(n,t),gp(Oo),$s=!!Po,Oo=Po=null,t.current=n,Hp(n),_h(),D=l,M=o,Le.transition=i}else t.current=n;if(hs&&(hs=!1,xt=t,Xs=s),i=t.pendingLanes,i===0&&(Pt=null),xh(n.stateNode),Ee(t,Y()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ys)throw Ys=!1,t=Jo,Jo=null,t;return Xs&1&&t.tag!==0&&An(),i=t.pendingLanes,i&1?t===Yo?wr++:(wr=0,Yo=t):wr=0,$t(),null}function An(){if(xt!==null){var t=Tc(Xs),e=Le.transition,n=M;try{if(Le.transition=null,M=16>t?16:t,xt===null)var r=!1;else{if(t=xt,xt=null,Xs=0,D&6)throw Error(E(331));var s=D;for(D|=4,b=t.current;b!==null;){var i=b,o=i.child;if(b.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(b=u;b!==null;){var c=b;switch(c.tag){case 0:case 11:case 15:vr(8,c,i)}var d=c.child;if(d!==null)d.return=c,b=d;else for(;b!==null;){c=b;var h=c.sibling,m=c.return;if(Dd(c),c===u){b=null;break}if(h!==null){h.return=m,b=h;break}b=m}}}var w=i.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var C=S.sibling;S.sibling=null,S=C}while(S!==null)}}b=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,b=o;else e:for(;b!==null;){if(i=b,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,b=g;break e}b=i.return}}var f=t.current;for(b=f;b!==null;){o=b;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,b=p;else e:for(o=f;b!==null;){if(l=b,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fi(9,l)}}catch(j){G(l,l.return,j)}if(l===o){b=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,b=k;break e}b=l.return}}if(D=s,$t(),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(si,t)}catch{}r=!0}return r}finally{M=n,Le.transition=e}}return!1}function wu(t,e,n){e=zn(n,e),e=Td(t,e,1),t=bt(t,e,1),e=me(),t!==null&&(Hr(t,1,e),Ee(t,e))}function G(t,e,n){if(t.tag===3)wu(t,t,n);else for(;e!==null;){if(e.tag===3){wu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pt===null||!Pt.has(r))){t=zn(n,t),t=bd(e,t,1),e=bt(e,t,1),t=me(),e!==null&&(Hr(e,1,t),Ee(e,t));break}}e=e.return}}function Jp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=me(),t.pingedLanes|=t.suspendedLanes&n,oe===t&&(ae&n)===n&&(re===4||re===3&&(ae&130023424)===ae&&500>Y()-Yl?Jt(t,0):Jl|=n),Ee(t,e)}function Qd(t,e){e===0&&(t.mode&1?(e=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):e=1);var n=me();t=ct(t,e),t!==null&&(Hr(t,e,n),Ee(t,n))}function Yp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Qd(t,n)}function Xp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),Qd(t,n)}var Gd;Gd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Se.current)ke=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ke=!1,Mp(t,e,n);ke=!!(t.flags&131072)}else ke=!1,H&&e.flags&1048576&&Zc(e,Ws,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ts(t,e),t=e.pendingProps;var s=$n(e,he.current);Nn(e,n),s=Hl(null,e,r,t,s,n);var i=Vl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xe(r)?(i=!0,Fs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ml(e),s.updater=di,e.stateNode=s,s._reactInternals=e,Mo(e,r,t,n),e=Bo(null,e,r,!0,i,n)):(e.tag=0,H&&i&&Nl(e),ge(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ts(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=eg(r),t=Fe(r,t),s){case 0:e=Fo(null,e,r,t,n);break e;case 1:e=uu(null,e,r,t,n);break e;case 11:e=lu(null,e,r,t,n);break e;case 14:e=au(null,e,r,Fe(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fe(r,s),Fo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fe(r,s),uu(t,e,r,s,n);case 3:e:{if(Nd(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,id(t,e),Ks(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zn(Error(E(423)),e),e=cu(t,e,r,n,s);break e}else if(r!==s){s=zn(Error(E(424)),e),e=cu(t,e,r,n,s);break e}else for(Ce=Tt(e.stateNode.containerInfo.firstChild),Te=e,H=!0,He=null,n=rd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Un(),r===s){e=dt(t,e,n);break e}ge(t,e,r,n)}e=e.child}return e;case 5:return od(e),t===null&&$o(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ro(r,s)?o=null:i!==null&&Ro(r,i)&&(e.flags|=32),Rd(t,e),ge(t,e,o,n),e.child;case 6:return t===null&&$o(e),null;case 13:return Ad(t,e,n);case 4:return zl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dn(e,null,r,n):ge(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fe(r,s),lu(t,e,r,s,n);case 7:return ge(t,e,e.pendingProps,n),e.child;case 8:return ge(t,e,e.pendingProps.children,n),e.child;case 12:return ge(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,F(Hs,r._currentValue),r._currentValue=o,i!==null)if(qe(i.value,o)){if(i.children===s.children&&!Se.current){e=dt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=lt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Uo(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Uo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ge(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Nn(e,n),s=Ue(s),r=r(s),e.flags|=1,ge(t,e,r,n),e.child;case 14:return r=e.type,s=Fe(r,e.pendingProps),s=Fe(r.type,s),au(t,e,r,s,n);case 15:return Pd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fe(r,s),Ts(t,e),e.tag=1,xe(r)?(t=!0,Fs(e)):t=!1,Nn(e,n),Cd(e,r,s),Mo(e,r,s,n),Bo(null,e,r,!0,t,n);case 19:return Id(t,e,n);case 22:return Od(t,e,n)}throw Error(E(156,e.tag))};function Jd(t,e){return xc(t,e)}function Zp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(t,e,n,r){return new Zp(t,e,n,r)}function ta(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eg(t){if(typeof t=="function")return ta(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_l)return 11;if(t===kl)return 14}return 2}function Rt(t,e){var n=t.alternate;return n===null?(n=Ie(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Os(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ta(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vn:return Yt(n.children,s,i,e);case wl:o=8,s|=8;break;case ao:return t=Ie(12,n,e,s|2),t.elementType=ao,t.lanes=i,t;case uo:return t=Ie(13,n,e,s),t.elementType=uo,t.lanes=i,t;case co:return t=Ie(19,n,e,s),t.elementType=co,t.lanes=i,t;case oc:return pi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sc:o=10;break e;case ic:o=9;break e;case _l:o=11;break e;case kl:o=14;break e;case mt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Ie(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Yt(t,e,n,r){return t=Ie(7,t,r,e),t.lanes=n,t}function pi(t,e,n,r){return t=Ie(22,t,r,e),t.elementType=oc,t.lanes=n,t.stateNode={isHidden:!1},t}function Gi(t,e,n){return t=Ie(6,t,null,e),t.lanes=n,t}function Ji(t,e,n){return e=Ie(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tg(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function na(t,e,n,r,s,i,o,l,a){return t=new tg(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ie(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ml(i),t}function ng(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Yd(t){if(!t)return At;t=t._reactInternals;e:{if(sn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(xe(n))return Yc(t,n,e)}return e}function Xd(t,e,n,r,s,i,o,l,a){return t=na(n,r,!0,t,s,i,o,l,a),t.context=Yd(null),n=t.current,r=me(),s=Ot(n),i=lt(r,s),i.callback=e??null,bt(n,i,s),t.current.lanes=s,Hr(t,s,r),Ee(t,r),t}function gi(t,e,n,r){var s=e.current,i=me(),o=Ot(s);return n=Yd(n),e.context===null?e.context=n:e.pendingContext=n,e=lt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bt(s,e,o),t!==null&&(Ke(t,s,o,i),Es(t,s,o)),o}function ei(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _u(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ra(t,e){_u(t,e),(t=t.alternate)&&_u(t,e)}function rg(){return null}var Zd=typeof reportError=="function"?reportError:function(t){console.error(t)};function sa(t){this._internalRoot=t}mi.prototype.render=sa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));gi(t,e,null,null)};mi.prototype.unmount=sa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nn(function(){gi(null,t,null,null)}),e[ut]=null}};function mi(t){this._internalRoot=t}mi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Oc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wt.length&&e!==0&&e<wt[n].priority;n++);wt.splice(n,0,t),n===0&&Nc(t)}};function ia(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ku(){}function sg(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ei(o);i.call(u)}}var o=Xd(e,r,t,0,null,!1,!1,"",ku);return t._reactRootContainer=o,t[ut]=o.current,Ar(t.nodeType===8?t.parentNode:t),nn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ei(a);l.call(u)}}var a=na(t,0,!1,null,null,!1,!1,"",ku);return t._reactRootContainer=a,t[ut]=a.current,Ar(t.nodeType===8?t.parentNode:t),nn(function(){gi(e,a,n,r)}),a}function yi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ei(o);l.call(a)}}gi(e,o,t,s)}else o=sg(n,e,t,s,r);return ei(o)}bc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ar(e.pendingLanes);n!==0&&(El(e,n|1),Ee(e,Y()),!(D&6)&&(Fn=Y()+500,$t()))}break;case 13:nn(function(){var r=ct(t,1);if(r!==null){var s=me();Ke(r,t,1,s)}}),ra(t,1)}};jl=function(t){if(t.tag===13){var e=ct(t,134217728);if(e!==null){var n=me();Ke(e,t,134217728,n)}ra(t,134217728)}};Pc=function(t){if(t.tag===13){var e=Ot(t),n=ct(t,e);if(n!==null){var r=me();Ke(n,t,e,r)}ra(t,e)}};Oc=function(){return M};Rc=function(t,e){var n=M;try{return M=t,e()}finally{M=n}};ko=function(t,e,n){switch(e){case"input":if(po(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ai(r);if(!s)throw Error(E(90));ac(r),po(r,s)}}}break;case"textarea":cc(t,n);break;case"select":e=n.value,e!=null&&bn(t,!!n.multiple,e,!1)}};vc=Xl;yc=nn;var ig={usingClientEntryPoint:!1,Events:[Kr,kn,ai,gc,mc,Xl]},sr={findFiberByHostInstance:qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},og={bundleType:sr.bundleType,version:sr.version,rendererPackageName:sr.rendererPackageName,rendererConfig:sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kc(t),t===null?null:t.stateNode},findFiberByHostInstance:sr.findFiberByHostInstance||rg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{si=ps.inject(og),Ze=ps}catch{}}Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ig;Pe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ia(e))throw Error(E(200));return ng(t,e,null,n)};Pe.createRoot=function(t,e){if(!ia(t))throw Error(E(299));var n=!1,r="",s=Zd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=na(t,1,!1,null,null,n,!1,r,s),t[ut]=e.current,Ar(t.nodeType===8?t.parentNode:t),new sa(e)};Pe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=kc(e),t=t===null?null:t.stateNode,t};Pe.flushSync=function(t){return nn(t)};Pe.hydrate=function(t,e,n){if(!vi(e))throw Error(E(200));return yi(null,t,e,!0,n)};Pe.hydrateRoot=function(t,e,n){if(!ia(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Zd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Xd(e,null,t,1,n??null,s,!1,i,o),t[ut]=e.current,Ar(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new mi(e)};Pe.render=function(t,e,n){if(!vi(e))throw Error(E(200));return yi(null,t,e,!1,n)};Pe.unmountComponentAtNode=function(t){if(!vi(t))throw Error(E(40));return t._reactRootContainer?(nn(function(){yi(null,null,t,!1,function(){t._reactRootContainer=null,t[ut]=null})}),!0):!1};Pe.unstable_batchedUpdates=Xl;Pe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vi(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return yi(t,e,n,!1,r)};Pe.version="18.3.1-next-f1338f8080-20240426";function ef(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ef)}catch(t){console.error(t)}}ef(),ec.exports=Pe;var lg=ec.exports,Su=lg;oo.createRoot=Su.createRoot,oo.hydrateRoot=Su.hydrateRoot;const ag="modulepreload",ug=function(t){return"/"+t},xu={},Kn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=ug(a),a in xu)return;xu[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":ag,u||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},cg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Kn(async()=>{const{default:r}=await Promise.resolve().then(()=>qn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class oa extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class dg extends oa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Eu extends oa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ju extends oa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var el;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(el||(el={}));var fg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class hg{constructor(e,{headers:n={},customFetch:r,region:s=el.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=cg(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return fg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const u=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,u.searchParams.set("forceFunctionRegion",a));let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(S=>{throw new dg(S)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new Eu(d);if(!d.ok)throw new ju(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return m==="application/json"?w=yield d.json():m==="application/octet-stream"?w=yield d.blob():m==="text/event-stream"?w=d:m==="multipart/form-data"?w=yield d.formData():w=yield d.text(),{data:w,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof ju||s instanceof Eu?s.context:void 0}}})}}var _e={},la={},wi={},Qr={},_i={},ki={},pg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bn=pg();const gg=Bn.fetch,tf=Bn.fetch.bind(Bn),nf=Bn.Headers,mg=Bn.Request,vg=Bn.Response,qn=Object.freeze(Object.defineProperty({__proto__:null,Headers:nf,Request:mg,Response:vg,default:tf,fetch:gg},Symbol.toStringTag,{value:"Module"})),yg=If(qn);var Si={};Object.defineProperty(Si,"__esModule",{value:!0});let wg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Si.default=wg;var rf=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ki,"__esModule",{value:!0});const _g=rf(yg),kg=rf(Si);let Sg=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=_g.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,u;let c=null,d=null,h=null,m=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=f:d=JSON.parse(f))}const C=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");C&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,m=406,w="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const C=await i.text();try{c=JSON.parse(C),Array.isArray(c)&&i.status===404&&(d=[],c=null,m=200,w="OK")}catch{i.status===404&&C===""?(m=204,w="No Content"):c={message:C}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,m=200,w="OK"),c&&this.shouldThrowOnError)throw new kg.default(c)}return{error:c,data:d,count:h,status:m,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};ki.default=Sg;var xg=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});const Eg=xg(ki);let jg=class extends Eg.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};_i.default=jg;var Cg=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qr,"__esModule",{value:!0});const Tg=Cg(_i);let bg=class extends Tg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Qr.default=bg;var Pg=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});const ir=Pg(Qr);let Og=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new ir.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new ir.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ir.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ir.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ir.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};wi.default=Og;var sf=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(la,"__esModule",{value:!0});const Rg=sf(wi),Ng=sf(Qr);let Ag=class of{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Rg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new of(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(l="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new Ng.default({method:l,url:a,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};la.default=Ag;var Qn=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_e,"__esModule",{value:!0});_e.PostgrestError=_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const lf=Qn(la);_e.PostgrestClient=lf.default;const af=Qn(wi);_e.PostgrestQueryBuilder=af.default;const uf=Qn(Qr);_e.PostgrestFilterBuilder=uf.default;const cf=Qn(_i);_e.PostgrestTransformBuilder=cf.default;const df=Qn(ki);_e.PostgrestBuilder=df.default;const ff=Qn(Si);_e.PostgrestError=ff.default;var Ig=_e.default={PostgrestClient:lf.default,PostgrestQueryBuilder:af.default,PostgrestFilterBuilder:uf.default,PostgrestTransformBuilder:cf.default,PostgrestBuilder:df.default,PostgrestError:ff.default};const{PostgrestClient:Lg,PostgrestQueryBuilder:ky,PostgrestFilterBuilder:Sy,PostgrestTransformBuilder:xy,PostgrestBuilder:Ey,PostgrestError:jy}=Ig;class $g{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ug="2.15.5",Dg=`realtime-js/${Ug}`,Mg="1.0.0",tl=1e4,zg=1e3,Fg=100;var _r;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_r||(_r={}));var ee;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ee||(ee={}));var We;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(We||(We={}));var nl;(function(t){t.websocket="websocket"})(nl||(nl={}));var Kt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kt||(Kt={}));class Bg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class hf{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(z||(z={}));const Cu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Wg(o,t,e,s),i),{})},Wg=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?pf(i,o):rl(o)},pf=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return qg(e,n)}switch(t){case z.bool:return Hg(e);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return Vg(e);case z.json:case z.jsonb:return Kg(e);case z.timestamp:return Qg(e);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return rl(e);default:return rl(e)}},rl=t=>t,Hg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Vg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Kg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},qg=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>pf(e,l))}return t},Qg=t=>typeof t=="string"?t.replace(" ","T"):t,gf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Yi{constructor(e,n,r={},s=tl){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Tu||(Tu={}));class kr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=kr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=kr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(C=>C.presence_ref),m=d.map(C=>C.presence_ref),w=c.filter(C=>m.indexOf(C.presence_ref)<0),S=d.filter(C=>h.indexOf(C.presence_ref)<0);w.length>0&&(l[u]=w),S.length>0&&(a[u]=S)}else l[u]=c}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const c=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),c.length>0){const d=e[l].map(m=>m.presence_ref),h=c.filter(m=>d.indexOf(m.presence_ref)<0);e[l].unshift(...h)}r(l,c,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const c=a.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bu||(bu={}));var Sr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sr||(Sr={}));var rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class aa{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yi(this,We.join,this.params,this.timeout),this.rejoinTimer=new hf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new kr(this),this.broadcastEndpointURL=gf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ee.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Sr.PRESENCE]&&this.bindings[Sr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:c}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(rt.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(rt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var w;if(this.socket.setAuth(),m===void 0){e==null||e(rt.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,C=(w=S==null?void 0:S.length)!==null&&w!==void 0?w:0,g=[];for(let f=0;f<C;f++){const p=S[f],{filter:{event:k,schema:j,table:y,filter:_}}=p,x=m&&m[f];if(x&&x.event===k&&x.schema===j&&x.table===y&&x.filter===_)g.push(Object.assign(Object.assign({},p),{id:x.id}));else{this.unsubscribe(),this.state=ee.errored,e==null||e(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(rt.SUBSCRIBED);return}}).receive("error",m=>{this.state=ee.errored,e==null||e(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ee.joined&&e===Sr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ee.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Yi(this,We.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ee.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yi(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Fg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=We;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,S,C;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((C=(S=m.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(m=>m.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var w,S,C,g,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const k=m.id,j=(w=m.filter)===null||w===void 0?void 0:w.event;return k&&((S=n.ids)===null||S===void 0?void 0:S.includes(k))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const k=(f=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return k==="*"||k===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:S,table:C,commit_timestamp:g,type:f,errors:p}=w;h=Object.assign(Object.assign({},{schema:S,table:C,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(w))}m.callback(h,r)})}_isClosed(){return this.state===ee.closed}_isJoined(){return this.state===ee.joined}_isJoining(){return this.state===ee.joining}_isLeaving(){return this.state===ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&aa.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(We.close,{},e)}_onError(e){this._on(We.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Cu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Cu(e.columns,e.old_record)),n}}const Xi=()=>{},gs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Gg=[1e3,2e3,5e3,1e4],Jg=1e4,Yg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Xg{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tl,this.transport=null,this.heartbeatIntervalMs=gs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xi,this.ref=0,this.reconnectTimer=null,this.logger=Xi,this.conn=null,this.sendBuffer=[],this.serializer=new Bg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Kn(async()=>{const{default:l}=await Promise.resolve().then(()=>qn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${nl.websocket}`,this.httpEndpoint=gf(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$g.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Mg}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case _r.connecting:return Kt.Connecting;case _r.open:return Kt.Open;case _r.closing:return Kt.Closing;default:return Kt.Closed}}isConnected(){return this.connectionState()===Kt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new aa(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(zg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},gs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(We.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Yg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Dg};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(We.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new hf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,a,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:tl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:gs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Xi,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:d=>Gg[d-1]||Jg,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(d,h)=>h(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ua extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Zg extends ua{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sl extends ua{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var em=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const mf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Kn(async()=>{const{default:r}=await Promise.resolve().then(()=>qn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},tm=()=>em(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Kn(()=>Promise.resolve().then(()=>qn),void 0)).Response:Response}),il=t=>{if(Array.isArray(t))return t.map(n=>il(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=il(r)}),e},nm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var on=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Zi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rm=(t,e,n)=>on(void 0,void 0,void 0,function*(){const r=yield tm();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Zg(Zi(s),i,o))}).catch(s=>{e(new sl(Zi(s),s))}):e(new sl(Zi(t),t))}),sm=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(nm(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Gr(t,e,n,r,s,i){return on(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,sm(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>rm(a,l,r))})})}function ti(t,e,n,r){return on(this,void 0,void 0,function*(){return Gr(t,"GET",e,n,r)})}function Ye(t,e,n,r,s){return on(this,void 0,void 0,function*(){return Gr(t,"POST",e,r,s,n)})}function ol(t,e,n,r,s){return on(this,void 0,void 0,function*(){return Gr(t,"PUT",e,r,s,n)})}function im(t,e,n,r){return on(this,void 0,void 0,function*(){return Gr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function vf(t,e,n,r,s){return on(this,void 0,void 0,function*(){return Gr(t,"DELETE",e,r,s,n)})}var pe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const om={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lm{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=mf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Pu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?ol:Ye)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}upload(e,n,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:Pu.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield ol(this.fetch,l.toString(),a,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(te(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ye(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ua("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}update(e,n,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return pe(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}copy(e,n,r){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ye(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ye(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return pe(this,void 0,void 0,function*(){try{const s=yield Ye(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}download(e,n){return pe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ti(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(te(l))return{data:null,error:l};throw l}})}info(e){return pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ti(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:il(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}exists(e){return pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield im(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r)&&r instanceof sl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return pe(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}list(e,n,r){return pe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},om),n),{prefix:e||""});return{data:yield Ye(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}listV2(e,n){return pe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ye(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const am="2.12.0",um={"X-Client-Info":`storage-js/${am}`};var un=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class cm{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},um),n),this.fetch=mf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return un(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(te(e))return{data:null,error:e};throw e}})}getBucket(e){return un(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return un(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return un(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}emptyBucket(e){return un(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}deleteBucket(e){return un(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}}class dm extends cm{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new lm(this.url,this.headers,e,this.fetch)}}const fm="2.57.2";let cr="";typeof Deno<"u"?cr="deno":typeof document<"u"?cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cr="react-native":cr="node";const hm={"X-Client-Info":`supabase-js-${cr}/${fm}`},pm={headers:hm},gm={schema:"public"},mm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vm={};var ym=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const wm=t=>{let e;return t?e=t:typeof fetch>"u"?e=tf:e=fetch,(...n)=>e(...n)},_m=()=>typeof Headers>"u"?nf:Headers,km=(t,e,n)=>{const r=wm(n),s=_m();return(i,o)=>ym(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Sm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function xm(t){return t.endsWith("/")?t:t+"/"}function Em(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:c,global:d}=e,h={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Sm(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const yf="2.71.1",pn=30*1e3,ll=3,eo=ll*pn,jm="http://localhost:9999",Cm="supabase.auth.token",Tm={"X-Client-Info":`gotrue-js/${yf}`},al="X-Supabase-Api-Version",wf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pm=10*60*1e3;class ca extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Om extends ca{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Rm(t){return A(t)&&t.name==="AuthApiError"}class _f extends ca{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ut extends ca{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class gt extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Nm(t){return A(t)&&t.name==="AuthSessionMissingError"}class ms extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vs extends Ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ys extends Ut{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Am(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ou extends Ut{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ul extends Ut{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function to(t){return A(t)&&t.name==="AuthRetryableFetchError"}class Ru extends Ut{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class cl extends Ut{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nu=` 	
\r=`.split(""),Im=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Nu.length;e+=1)t[Nu[e].charCodeAt(0)]=-2;for(let e=0;e<ni.length;e+=1)t[ni[e].charCodeAt(0)]=e;return t})();function Au(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ni[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ni[r]),e.queuedBits-=6}}function kf(t,e,n){const r=Im[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Iu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Um(o,r,n)};for(let o=0;o<t.length;o+=1)kf(t.charCodeAt(o),s,i);return e.join("")}function Lm(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $m(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Lm(r,e)}}function Um(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Dm(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)kf(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Mm(t){const e=[];return $m(t,n=>e.push(n)),new Uint8Array(e)}function zm(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Au(s,n,r)),Au(null,n,r),e.join("")}function Fm(t){return Math.round(Date.now()/1e3)+t}function Bm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ze=()=>typeof window<"u"&&typeof document<"u",Ft={tested:!1,writable:!1},Sf=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ft.tested)return Ft.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ft.tested=!0,Ft.writable=!0}catch{Ft.tested=!0,Ft.writable=!1}return Ft.writable};function Wm(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const xf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Kn(async()=>{const{default:r}=await Promise.resolve().then(()=>qn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Hm=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Bt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pt=async(t,e)=>{await t.removeItem(e)};class xi{constructor(){this.promise=new xi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}xi.promiseConstructor=Promise;function no(t){const e=t.split(".");if(e.length!==3)throw new cl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!bm.test(e[r]))throw new cl("JWT not in base64url format");return{header:JSON.parse(Iu(e[0])),payload:JSON.parse(Iu(e[1])),signature:Dm(e[2]),raw:{header:e[0],payload:e[1]}}}async function Vm(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Km(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function qm(t){return("0"+t.toString(16)).substr(-2)}function Qm(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,qm).join("")}async function Gm(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Jm(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Gm(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cn(t,e,n=!1){const r=Qm();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await gn(t,`${e}-code-verifier`,s);const i=await Jm(r);return[i,r===i?"plain":"s256"]}const Ym=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xm(t){const e=t.headers.get(al);if(!e||!e.match(Ym))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Zm(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ev(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dn(t){if(!tv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ro(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Lu(t){return JSON.parse(JSON.stringify(t))}var nv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Vt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),rv=[502,503,504];async function $u(t){var e;if(!Hm(t))throw new ul(Vt(t),0);if(rv.includes(t.status))throw new ul(Vt(t),t.status);let n;try{n=await t.json()}catch(i){throw new _f(Vt(i),i)}let r;const s=Xm(t);if(s&&s.getTime()>=wf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ru(Vt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new gt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ru(Vt(n),t.status,n.weak_password.reasons);throw new Om(Vt(n),t.status||500,r)}const sv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function L(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[al]||(i[al]=wf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await iv(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function iv(t,e,n,r,s,i){const o=sv(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new ul(Vt(a),0)}if(l.ok||await $u(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await $u(a)}}function tt(t){var e;let n=null;uv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Fm(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Uu(t){const e=tt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ov(t){return{data:t,error:null}}function lv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=nv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function av(t){return t}function uv(t){return t.access_token&&t.refresh_token&&t.expires_in}const so=["global","local","others"];var cv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class dv{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=xf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=so[0]){if(so.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${so.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:kt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=cv(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(A(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:av});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return m.length>0&&(m.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);u[`${C}Page`]=S}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){dn(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){dn(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:kt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){dn(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:kt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){dn(e.userId);try{const{data:n,error:r}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteFactor(e){dn(e.userId),dn(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}}function Du(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function fv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fn={debug:!!(globalThis&&Sf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ef extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class hv extends Ef{}async function pv(t,e,n){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new hv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}fv();const gv={url:jm,storageKey:Cm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mu(t,e,n){return await n()}const hn={};class Br{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Br.nextInstanceID,Br.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},gv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new dv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xf(s.fetch),this.lock=s.lock||Mu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ze()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=pv:this.lock=Mu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Sf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Du(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Du(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=hn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){hn[this.storageKey]=Object.assign(Object.assign({},hn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=hn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){hn[this.storageKey]=Object.assign(Object.assign({},hn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Wm(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ze()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Am(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return A(n)?{error:n}:{error:new _f("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:tt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:d,options:h}=e;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await cn(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:w},xform:tt})}else if("phone"in e){const{phone:c,password:d,options:h}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:tt})}else throw new vs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(A(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Uu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Uu})}else throw new vs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ms}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,u,c,d,h,m;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:C,wallet:g,statement:f,options:p}=e;let k;if(ze())if(typeof g=="object")k=g;else{const y=window;if("solana"in y&&typeof y.solana=="object"&&("signIn"in y.solana&&typeof y.solana.signIn=="function"||"signMessage"in y.solana&&typeof y.solana.signMessage=="function"))k=y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const j=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const y=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),f?{statement:f}:null));let _;if(Array.isArray(y)&&y[0]&&typeof y[0]=="object")_=y[0];else if(y&&typeof y=="object"&&"signedMessage"in y&&"signature"in y)_=y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)w=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),S=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${j.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const y=await k.signMessage(new TextEncoder().encode(w),"utf8");if(!y||!(y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=y}}try{const{data:C,error:g}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:zm(S)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:tt});if(g)throw g;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new ms}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:g})}catch(C){if(A(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const n=await Bt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:tt});if(await pt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ms}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(A(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:tt}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ms}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await cn(this.storage,this.storageKey));const{error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:c}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new vs("You must provide either an email or phone number.")}catch(l){if(A(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:tt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await cn(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ov})}catch(i){if(A(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new gt;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await L(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await L(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new vs("You must provide either an email or phone number and a type")}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Bt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<eo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Bt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ro()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:kt})})}catch(n){if(A(n))return Nm(n)&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new gt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await cn(this.storage,this.storageKey));const{data:u,error:c}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:kt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=no(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(A(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new gt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(A(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ze())throw new ys("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ys(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ou("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ys("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ou("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new ys("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(l);let h=c+d;a&&(h=parseInt(a));const m=h-c;m*1e3<=pn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const w=h-d;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,c);const{data:S,error:C}=await this._getUser(i);if(C)throw C;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(A(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Bt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Rm(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Bm(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await cn(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(A(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,c;const{data:d,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ze()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(A(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Km(async s=>(s>0&&await Vm(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&to(i)&&Date.now()+o-r<pn})}catch(r){if(this._debug(n,"error",r),A(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ze()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Bt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Bt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await gn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ro()}else if(s&&!s.user&&!s.user){const o=await Bt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await pt(this.storage,this.storageKey+"-user"),await gn(this.storage,this.storageKey,s)):s.user=ro()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<eo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${eo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),to(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),A(i)){const o={session:null,error:i};return to(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await gn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Lu(s);await gn(this.storage,this.storageKey,i)}else{const s=Lu(n);await gn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await pt(this.storage,this.storageKey),await pt(this.storage,this.storageKey+"-code-verifier"),await pt(this.storage,this.storageKey+"-user"),this.userStorage&&await pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/pn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${pn}ms, refresh threshold is ${ll} ticks`),s<=ll&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ef)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await cn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(A(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=no(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Pm>s)return r;const{data:i,error:o}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=no(r);n!=null&&n.allowExpired||Zm(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const c=ev(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,Mm(`${l}.${a}`)))throw new cl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}Br.nextInstanceID=0;const mv=Br;class vv extends mv{constructor(e){super(e)}}var yv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class wv{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=xm(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:gm,realtime:vm,auth:Object.assign(Object.assign({},mm),{storageKey:u}),global:pm},d=Em(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=km(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Lg(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new dm(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new hg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return yv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:u},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:a,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Xg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _v=(t,e,n)=>new wv(t,e,n);function kv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}kv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sv="https://hnhipbmcgbyvefxjkgot.supabase.co",xv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhuaGlwYm1jZ2J5dmVmeGprZ290Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcyODQwMDUsImV4cCI6MjA3Mjg2MDAwNX0.Y5SBlKu9EEjNyenqOtGD4rJgd10VeuPyLNZMpod8WAI",In=_v(Sv,xv);async function Ev(t,e){var i;const{data:n,error:r}=await In.auth.signInWithPassword({email:t,password:e});if(r)throw r;const s=(i=n.session)==null?void 0:i.access_token;if(!s)throw new Error("No access token returned");return s}async function jv(t,e){var i;const n=`${window.location.origin}/auth/callback`,{data:r,error:s}=await In.auth.signUp({email:t,password:e,options:{emailRedirectTo:n}});if(s)throw s;return((i=r.session)==null?void 0:i.access_token)||null}async function Cv(t){const e=`${window.location.origin}/auth/callback`,{error:n}=await In.auth.resetPasswordForEmail(t,{redirectTo:e});if(n)throw n}const da=R.createContext(void 0);function Tv({storage:t,uploader:e,children:n}){return v.jsx(da.Provider,{value:{storage:t,uploader:e},children:n})}function jf(){const t=R.useContext(da);if(!t)throw new Error("useStorage must be used within a ServicesProvider");return t.storage}function bv(){const t=R.useContext(da);if(!t)throw new Error("useUploader must be used within a ServicesProvider");return t.uploader}const Cf=R.createContext(void 0);function Pv({value:t,children:e}){return v.jsx(Cf.Provider,{value:t,children:e})}function fa(){const t=R.useContext(Cf);if(!t)throw new Error("useClips must be used within a ClipsProvider");return t}function Ov(t,e){const n=(t||"").replace(/\/+$/,""),r=(e||"").replace(/^\/+/,"");return`${n}/${r}`}function dl(t,e,n){const r=("/"+(e||"/notes").replace(/^\/+/,"")).replace(/\/+$/,""),s=Ov(t,r),i=new URL(s);return Object.entries(n||{}).forEach(([o,l])=>i.searchParams.set(o,String(l))),i.toString()}function Rv(t,e,n){const[r,s]=R.useState([]),[i,o]=R.useState(null),[l,a]=R.useState(navigator.onLine),u=R.useRef(null),c=R.useRef(new Map);R.useEffect(()=>{(async()=>{const y=await e.getAll();y.sort((_,x)=>x.createdAt-_.createdAt),s(y)})()},[e]),R.useEffect(()=>{const y=()=>a(!0),_=()=>a(!1);return window.addEventListener("online",y),window.addEventListener("offline",_),()=>{window.removeEventListener("online",y),window.removeEventListener("offline",_)}},[]),R.useEffect(()=>{const y=u.current;if(!y)return;const _=()=>o(null);return y.addEventListener("ended",_),()=>y.removeEventListener("ended",_)},[]);async function d(y){let _=y.objectUrl;if(!_&&!y.blob){const O=(await e.getAll()).find(P=>P.id===y.id);O&&O.blob&&(_=URL.createObjectURL(O.blob),y.objectUrl=_)}!_&&y.blob&&(_=URL.createObjectURL(y.blob),y.objectUrl=_),_&&u.current&&(u.current.src=_,await u.current.play(),o(y.id))}function h(){u.current&&(u.current.pause(),u.current.currentTime=0,o(null))}async function m(y){try{if(!navigator.onLine){w(y.id,{status:"queued"});return}let _=y.blob;if(!_){const U=(await e.getAll()).find(Q=>Q.id===y.id);U&&U.blob&&(_=U.blob)}if(!_)throw new Error("Audio blob not found");w(y.id,{status:"processing"});const x=await n.upload({...y,blob:_},t);w(y.id,{status:"processing",serverId:x.serverId,title:x.title??y.title,tags:x.tags??y.tags,details:x.details??y.details,transcriptUrl:x.transcriptUrl??y.transcriptUrl});const O={...y,serverId:x.serverId,status:"processing"};j(O)}catch(_){console.error(_),w(y.id,{status:"error"}),alert(_.message||String(_))}}function w(y,_){s(x=>{const O=x.map(U=>U.id===y?{...U,..._}:U),P=O.find(U=>U.id===y);return P&&e.save(P),O})}async function S(y){s(_=>{const x=_.find(O=>O.id===y);if(x!=null&&x.objectUrl)try{URL.revokeObjectURL(x.objectUrl)}catch{}return _.filter(O=>O.id!==y)}),await e.remove(y)}async function C(){for(const y of r.filter(_=>_.status==="queued"))await m(y)}async function g(){try{if(!navigator.onLine)return;for(const y of r.filter(_=>_.serverId)){const _=await fetch(dl(t.baseUrl,t.uploadPath,{job:y.serverId}));if(_.ok){const x=await _.json(),O=(x==null?void 0:x.id)||y.serverId;w(y.id,{status:"processing",serverId:O,title:(x==null?void 0:x.title)??y.title,tags:Array.isArray(x==null?void 0:x.tags)?x.tags:y.tags,details:(x==null?void 0:x.details)??y.details,transcriptUrl:(x==null?void 0:x.transcriptUrl)??y.transcriptUrl}),j({...y,serverId:O,status:"processing"})}}}catch(y){console.error(y)}}function f(y){s(_=>_.some(x=>x.id===y.id)?_:[y,..._])}function p(y){const _=c.current.get(y);_!=null&&_.handle&&clearTimeout(_.handle),c.current.delete(y)}async function k(y){if(!y.serverId)return{done:!1,nextDelayMs:3e3};try{const _=await fetch(dl(t.baseUrl,t.uploadPath+"/status",{job:y.serverId}),{method:"POST"}),x=_.headers.get("Retry-After"),O=x?Math.max(1e3,Number(x)*1e3):0;if(_.status===404)return{done:!1,nextDelayMs:Math.max(O,2e3)};if(!_.ok)return{done:!1,nextDelayMs:Math.max(O,4e3)};const P=await _.json();if(w(y.id,{title:P.title??y.title,tags:Array.isArray(P.tags)?P.tags:y.tags,details:P.details??y.details,transcriptUrl:P.transcriptUrl??y.transcriptUrl}),_.status===200&&P.status==="done")return w(y.id,{status:"uploaded"}),p(y.id),{done:!0,nextDelayMs:0};const U=typeof P.retryAfter=="number"?Math.max(1e3,P.retryAfter*1e3):0;return{done:!1,nextDelayMs:Math.max(O,U,2500)}}catch{return{done:!1,nextDelayMs:5e3}}}function j(y){if(!y.serverId)return;p(y.id);let _=1500;const x=async()=>{if(!navigator.onLine||document.hidden){O(Math.max(_,3e3));return}const{done:P,nextDelayMs:U}=await k(y);if(!P){_=U||Math.min(Math.floor(_*1.6),6e4);const Q=Math.floor(Math.random()*400);O(_+Q)}};function O(P){const U=window.setTimeout(x,P);c.current.set(y.id,{delay:P,handle:U})}O(_)}return R.useEffect(()=>{r.filter(y=>y.status==="processing"&&y.serverId).forEach(j)},[r]),{clips:r,playingId:i,online:l,addClip:f,playClip:d,stopPlayback:h,uploadClip:m,removeClip:S,updateClip:w,syncQueued:C,refreshMetadata:g,audioRef:u}}function Nv(){return v.jsx("footer",{className:"py-10 text-center text-xs text-muted",children:"Built with   works in modern browsers. For iOS Safari, ensure you serve over HTTPS and tap to start recording."})}const Tf=R.createContext(void 0),ha=["auto","light","dark","neon"],Av={light:"#f8fafc",dark:"#0f172a",neon:"#000000",auto:"#f8fafc"};function Iv(t){const e=document.documentElement;for(const s of ha)e.classList.remove(`theme-${s}`);let n=t;t==="auto"&&(n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),e.classList.add(`theme-${n}`);const r=document.querySelector('meta[name="theme-color"]');r&&r.setAttribute("content",Av[n])}function Lv({children:t}){const[e,n]=R.useState(()=>{const r=localStorage.getItem("theme");return ha.includes(r)?r:"auto"});return R.useEffect(()=>{localStorage.setItem("theme",e),Iv(e)},[e]),v.jsx(Tf.Provider,{value:{theme:e,setTheme:n},children:t})}function bf(){const t=R.useContext(Tf);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}const ln=({path:t,size:e=20,className:n=""})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,className:n,fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:t})}),Pf=t=>v.jsx(ln,{...t,path:"M5 5h14v14H5z"}),$v=t=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t.size||20,height:t.size||20,className:t.className||"",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"6",y1:"4",x2:"6",y2:"20"}),v.jsx("line",{x1:"18",y1:"4",x2:"18",y2:"20"})]}),Of=t=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t.size||20,height:t.size||20,className:t.className||"",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),Uv=t=>v.jsx(ln,{...t,path:"M12 16V3m0 0l-4 4m4-4l4 4M5 21h14"}),Dv=t=>v.jsx(ln,{...t,path:"M3 6h18M8 6V4h8v2M6 6l1 14h10l1-14"}),Mv=t=>v.jsx(ln,{...t,path:"M12 1l2 3 3 1 1 3 3 2-3 2-1 3-3 1-2 3-2-3-3-1-1-3-3-2 3-2 1-3 3-1z"}),zv=t=>v.jsx(ln,{...t,path:"M19 21H5a2 2 0 0 1-2-2V5h13l3 3v11a2 2 0 0 1-2 2z"}),Fv=t=>v.jsx(ln,{...t,path:"M20 12l-8 8-9-9 4-4 9 9z"}),Bv=t=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t.size||20,height:t.size||20,className:t.className||"",fill:"currentColor",children:v.jsx("circle",{cx:"12",cy:"12",r:"10"})}),Wv=t=>v.jsx(ln,{...t,path:"M18 6L6 18M6 6l12 12"});function Hv({onSettingsClick:t,tab:e,onTabChange:n}){const{theme:r}=bf();let s=r;r==="auto"&&(s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");const i=s==="dark"?"/dark-logo.png":"/logo.png";return v.jsxs("header",{className:"sticky top-0 z-10 backdrop-blur bg-surface/70 border-b border-subtle",style:{paddingTop:"env(safe-area-inset-top)"},children:[v.jsxs("div",{className:"mx-auto max-w-5xl px-2 sm:px-4 py-2 flex items-center gap-2 sm:gap-3",children:[v.jsx("img",{src:i,alt:"VoiceRouter Logo",className:"w-8 h-8 sm:w-9 sm:h-9"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h1",{className:"text-content sm:text-lg font-semibold leading-tight",children:"VoiceRouter"}),v.jsx("p",{className:"text-xs text-muted hidden sm:block",children:"Premium voice notes  record, tag, and sync"})]}),v.jsxs("button",{onClick:t,className:"inline-flex items-center gap-2 rounded-full sm:rounded-xl border border-subtle bg-surface p-2 sm:px-3 sm:py-2 text-sm hover:shadow-sm",children:[v.jsx(Mv,{}),v.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]}),v.jsx("div",{className:"mx-auto max-w-5xl px-4",children:v.jsxs("div",{className:"flex gap-4 border-b border-subtle",children:[v.jsx("button",{onClick:()=>n("pending"),className:`py-2 px-4 text-sm ${e==="pending"?"border-b-2 border-primary text-primary":"text-muted"}`,children:"Pending"}),v.jsx("button",{onClick:()=>n("processed"),className:`py-2 px-4 text-sm ${e==="processed"?"border-b-2 border-primary text-primary":"text-muted"}`,children:"Processed"})]})})]})}const xr={pad(t){return String(t).padStart(2,"0")},ms(t){const e=Math.floor(t/1e3),n=Math.floor(e/3600),r=Math.floor(e%3600/60),s=e%60;return n>0?`${n}:${xr.pad(r)}:${xr.pad(s)}`:`${r}:${xr.pad(s)}`},date(t){return new Date(t).toLocaleString()}};function zu({statuses:t}){const{clips:e,playingId:n,online:r,playClip:s,stopPlayback:i,uploadClip:o,removeClip:l,updateClip:a,syncQueued:u}=fa(),[c,d]=R.useState(""),h=R.useMemo(()=>{const m=c.trim().toLowerCase(),w=e.filter(S=>t.includes(S.status));return m?w.filter(S=>[S.title,S.details,...S.tags||[]].filter(Boolean).some(C=>String(C).toLowerCase().includes(m))):w},[c,e,t]);return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row sm:items-center gap-3",children:[v.jsx("div",{className:"flex-1",children:v.jsxs("div",{className:"relative",children:[v.jsx("input",{className:"w-full rounded-xl border border-subtle bg-surface px-4 py-2 pr-10 text-sm",placeholder:"Search title, tags, details",value:c,onChange:m=>d(m.target.value)}),v.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted text-xs",children:"/"})]})}),v.jsx("span",{className:`rounded-xl px-3 py-2 text-xs border ${r?"bg-success/10 text-success border-success":"bg-warning/10 text-warning border-warning"}`,children:r?"Online":"Offline"}),v.jsx("button",{onClick:u,className:"inline-flex items-center gap-2 rounded-xl border border-subtle bg-surface px-3 py-2 text-sm hover:shadow-sm",title:"Upload any notes queued while offline",children:"Sync queued"})]}),v.jsxs("section",{className:"mt-4 grid grid-cols-1 gap-4",children:[h.length===0&&v.jsx("div",{className:"text-center text-muted text-sm py-8",children:"No recordings yet."}),h.map(m=>v.jsx("article",{className:"rounded-2xl border border-subtle bg-surface shadow-sm overflow-hidden",children:v.jsxs("div",{className:"p-4 sm:p-6 grid grid-cols-1 sm:grid-cols-12 gap-4",children:[v.jsxs("div",{className:"sm:col-span-8 flex flex-col gap-2 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{className:"min-w-0 flex-1 rounded-lg border border-subtle bg-surface px-3 py-2 text-sm font-medium",value:m.title||"Untitled note",onChange:w=>a(m.id,{title:w.target.value})}),v.jsx("span",{className:"text-xs text-muted whitespace-nowrap",children:xr.date(m.createdAt)})]}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v.jsxs("div",{className:"text-xs text-muted",children:[m.mimeType.replace("audio/","").toUpperCase(),"  ",m.duration?`${m.duration.toFixed(1)}s`:"--","  ",m.size?`${(m.size/1024).toFixed(0)} KB`:"--"]}),m.status==="uploaded"&&v.jsx("span",{className:"text-xs rounded-full bg-success/10 text-success px-2 py-0.5",children:"Synced"}),m.status==="processing"&&v.jsx("span",{className:"text-xs rounded-full bg-secondary/10 text-secondary px-2 py-0.5",children:"Uploading"}),m.status==="error"&&v.jsx("span",{className:"text-xs rounded-full bg-accent/10 text-accent px-2 py-0.5",children:"Error"})]}),v.jsx("div",{children:v.jsx("textarea",{className:"w-full rounded-lg border border-subtle bg-surface px-3 py-2 text-sm",placeholder:"Details (will be enhanced by server on upload)",rows:m.details?3:2,value:m.details||"",onChange:w=>a(m.id,{details:w.target.value})})}),v.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[v.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted",children:[v.jsx(Fv,{})," Tags:"]}),(m.tags||[]).map((w,S)=>v.jsx("span",{className:"rounded-full bg-subtle text-content px-2 py-0.5 text-xs",children:w},w+S)),v.jsx("input",{className:"rounded-lg border border-subtle bg-surface px-2 py-1 text-xs",placeholder:"Add tag and press Enter",onKeyDown:w=>{if(w.key==="Enter"){const S=w.target.value.trim();S&&a(m.id,{tags:[...m.tags||[],S]}),w.target.value=""}}})]})]}),v.jsxs("div",{className:"sm:col-span-4 flex flex-col items-stretch justify-between gap-3",children:[v.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n===m.id?v.jsxs("button",{onClick:i,className:"rounded-full border px-3 py-2 text-sm flex items-center gap-2",children:[v.jsx(Pf,{})," Stop"]}):v.jsxs("button",{onClick:()=>s(m),className:"rounded-full border px-3 py-2 text-sm flex items-center gap-2",children:[v.jsx(Of,{})," Play"]}),m.status!=="uploaded"&&v.jsxs("button",{onClick:()=>o(m),disabled:m.status==="processing",className:"rounded-full bg-primary text-base px-3 py-2 text-sm flex items-center gap-2 disabled:opacity-50",children:[v.jsx(Uv,{})," Upload"]}),v.jsxs("button",{onClick:()=>l(m.id),className:"rounded-full border px-3 py-2 text-sm flex items-center gap-2",children:[v.jsx(Dv,{})," Delete"]})]}),v.jsx("div",{className:"text-xs text-muted overflow-hidden max-h-12",children:m.transcriptUrl?v.jsx("a",{className:"text-content underline",href:m.transcriptUrl,target:"_blank",rel:"noreferrer",children:"Transcript"}):v.jsx("span",{className:"text-muted",children:"No transcript yet."})})]})]})},m.id))]})]})}function Vv({api:t,onApiChange:e,onClose:n}){const{theme:r,setTheme:s}=bf();return v.jsx("div",{className:"fixed inset-0 z-20 flex items-center justify-center bg-base/40 p-0 sm:p-4",onClick:n,children:v.jsxs("div",{className:"w-full h-full sm:h-auto sm:max-w-lg rounded-none sm:rounded-2xl bg-surface shadow-xl border-subtle",onClick:i=>i.stopPropagation(),children:[v.jsxs("div",{className:"p-4 border-b border-subtle flex items-center justify-between",children:[v.jsx("h3",{className:"font-semibold",children:"Settings"}),v.jsx("button",{onClick:n,className:"text-muted hover:text-content",children:""})]}),v.jsxs("div",{className:"p-4 space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-muted",children:"Theme"}),v.jsx("select",{className:"w-full rounded-xl border border-subtle bg-surface px-3 py-2 text-sm",value:r,onChange:i=>s(i.target.value),children:ha.map(i=>v.jsx("option",{value:i,children:i.charAt(0).toUpperCase()+i.slice(1)},i))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-muted",children:"Base URL"}),v.jsx("input",{className:"w-full rounded-xl border border-subtle bg-surface px-3 py-2 text-sm",placeholder:"https://api.example.com",value:t.baseUrl,onChange:i=>e(o=>({...o,baseUrl:i.target.value}))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-muted",children:"Upload Path"}),v.jsx("input",{className:"w-full rounded-xl border border-subtle bg-surface px-3 py-2 text-sm",placeholder:"/notes",value:t.uploadPath,onChange:i=>e(o=>({...o,uploadPath:i.target.value}))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-muted",children:"Auth Token (optional)"}),v.jsx("input",{className:"w-full rounded-xl border border-subtle bg-surface px-3 py-2 text-sm",placeholder:"Bearer token",value:t.authToken||"",onChange:i=>e(o=>({...o,authToken:i.target.value}))})]}),v.jsxs("div",{className:"pt-2 flex items-center gap-2",children:[v.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 rounded-xl bg-primary text-base px-4 py-2 text-sm",children:[v.jsx(zv,{})," Save"]}),v.jsx("button",{onClick:async()=>{try{const i=await fetch(dl(t.baseUrl,t.uploadPath));alert(i.ok?"Endpoint reachable (GET).":"Failed: "+i.status)}catch(i){alert(i.message||String(i))}},className:"inline-flex items-center gap-2 rounded-xl border border-subtle bg-surface px-4 py-2 text-sm",children:"Test endpoint"})]}),v.jsx("div",{className:"text-xs text-muted pt-2",children:"Your settings are saved locally (localStorage). Recordings are stored on-device using IndexedDB until you upload them."})]})]})})}function Kv({isRecording:t,startRecording:e,permission:n}){return v.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[v.jsx("div",{className:"flex items-center justify-center gap-2",children:v.jsx("button",{onClick:e,disabled:t,className:"inline-flex items-center gap-2 rounded-full bg-primary text-base p-8 text-2xl shadow-lg hover:opacity-95 disabled:opacity-50",children:v.jsx(Bv,{})})}),n==="denied"&&!t&&v.jsx("div",{className:"text-center",children:v.jsx("div",{className:"mt-1 text-xs text-accent",children:"Mic permission denied."})})]})}function qv(t){return v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-surface/70 backdrop-blur border-t border-subtle z-10",children:v.jsx("div",{className:"mx-auto max-w-5xl p-8 flex justify-center relative",children:v.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:v.jsx(Kv,{...t})})})})}class Fu{constructor(e){Qe(this,"stream");Qe(this,"state","inactive");Qe(this,"ondataavailable",null);Qe(this,"onstop",null);Qe(this,"ctx");Qe(this,"processor");Qe(this,"chunks",[]);this.stream=e,this.ctx=new(window.AudioContext||window.webkitAudioContext);const n=this.ctx.createMediaStreamSource(e);this.processor=this.ctx.createScriptProcessor(4096,1,1),n.connect(this.processor),this.processor.connect(this.ctx.destination),this.processor.onaudioprocess=r=>{this.state==="recording"&&this.chunks.push(new Float32Array(r.inputBuffer.getChannelData(0)))}}start(e){this.state="recording"}pause(){this.state="paused"}resume(){this.state="recording"}stop(){this.state="inactive",this.processor.disconnect(),this.stream.getTracks().forEach(o=>o.stop());const e=this.chunks.reduce((o,l)=>o+l.length,0),n=new Float32Array(e);let r=0;for(const o of this.chunks)n.set(o,r),r+=o.length;const s=Qv(n,this.ctx.sampleRate),i=new Blob([s],{type:"audio/wav"});if(this.ondataavailable){const o=typeof BlobEvent=="function"?new BlobEvent("dataavailable",{data:i}):{data:i};this.ondataavailable(o)}this.onstop&&this.onstop(),this.ctx.close()}cancel(){this.state="inactive",this.processor.disconnect(),this.stream.getTracks().forEach(e=>e.stop()),this.ctx.close(),this.chunks=[]}}function Qv(t,e){const n=new ArrayBuffer(44+t.length*2),r=new DataView(n);let s=0;function i(o){for(let l=0;l<o.length;l++)r.setUint8(s+l,o.charCodeAt(l));s+=o.length}i("RIFF"),r.setUint32(s,36+t.length*2,!0),s+=4,i("WAVE"),i("fmt "),r.setUint32(s,16,!0),s+=4,r.setUint16(s,1,!0),s+=2,r.setUint16(s,1,!0),s+=2,r.setUint32(s,e,!0),s+=4,r.setUint32(s,e*2,!0),s+=4,r.setUint16(s,2,!0),s+=2,r.setUint16(s,16,!0),s+=2,i("data"),r.setUint32(s,t.length*2,!0),s+=4;for(let o=0;o<t.length;o++,s+=2){const l=Math.max(-1,Math.min(1,t[o]));r.setInt16(s,l<0?l*32768:l*32767,!0)}return n}function Gv(t){const e=jf(),{addClip:n}=fa(),[r,s]=R.useState("unknown"),[i,o]=R.useState(null),[l,a]=R.useState(null),[u,c]=R.useState(0),d=R.useRef(null),h=R.useRef(null),m=R.useRef(null),w=R.useRef(null),S=R.useRef([]);async function C(){try{const O=await navigator.mediaDevices.getUserMedia({audio:!0});return s("granted"),O.getTracks().forEach(P=>P.stop()),!0}catch(O){return s("denied"),console.error(O),!1}}async function g(){if(!await C())return;const P=["audio/webm;codecs=opus","audio/webm","audio/mp4","audio/ogg;codecs=opus"],U=await navigator.mediaDevices.getUserMedia({audio:!0});let Q="audio/wav",Z;if(typeof MediaRecorder<"u"){const T=P.find(N=>MediaRecorder.isTypeSupported(N));T?(Q=T,Z=new MediaRecorder(U,{mimeType:Q})):Z=new Fu(U)}else Z=new Fu(U);S.current=[];const Re=new(window.AudioContext||window.webkitAudioContext);m.current=Re;const Gn=Re.createMediaStreamSource(U),Dt=Re.createAnalyser();Dt.fftSize=1024,Gn.connect(Dt),w.current=Dt;const Jn={id:crypto.randomUUID(),createdAt:Date.now(),mimeType:Q,status:"recording",title:"Untitled note",tags:[]};a(Jn),Z.ondataavailable=T=>{T.data&&T.data.size>0&&S.current.push(T.data)},Z.start(200),o(Z),d.current=performance.now(),f()}function f(){h.current&&cancelAnimationFrame(h.current);const O=()=>{d.current&&(c(performance.now()-d.current),h.current=requestAnimationFrame(O))};h.current=requestAnimationFrame(O)}function p(){i&&i.state==="recording"&&(i.pause(),h.current&&cancelAnimationFrame(h.current))}function k(){i&&i.state==="paused"&&(i.resume(),f())}async function j(){if(!i)return;console.log("Stopping recording..."),i.stop(),console.log("Recording stopped.");const O=new Blob(S.current,{type:l==null?void 0:l.mimeType});console.log("Blob created:",O);const P=m.current;P&&(P.close(),m.current=null),w.current=null;const U=O.size,Q=URL.createObjectURL(O);console.log("Object URL created:",Q);const Z=await _(O);console.log("Duration probed:",Z);const Re={...l,blob:O,objectUrl:Q,size:U,duration:Z,status:"saved"};n(Re),a(null),c(0);try{await e.save(Re),console.log("Clip saved to storage."),t()}catch(Gn){console.error(Gn)}o(null),d.current=null,h.current&&cancelAnimationFrame(h.current),c(0)}async function y(){i&&("cancel"in i?i.cancel():i.stop(),o(null),a(null),d.current=null,h.current&&cancelAnimationFrame(h.current),c(0))}function _(O){return new Promise((P,U)=>{const Q=new Audio,Z=URL.createObjectURL(O),Re=()=>{P(Q.duration),Q.removeEventListener("loadedmetadata",Re),URL.revokeObjectURL(Z)};Q.addEventListener("loadedmetadata",Re),Q.onerror=()=>{URL.revokeObjectURL(Z),U(new Error("Failed to load audio for duration"))},Q.src=Z})}return{isRecording:i&&["recording","paused"].includes(i.state),recordMs:u,startRecording:g,stopRecording:j,pauseRecording:p,resumeRecording:k,cancelRecording:y,permission:r,analyser:w.current,recorder:i}}function Jv({recordMs:t,analyser:e,isPaused:n,stopRecording:r,pauseRecording:s,resumeRecording:i,cancelRecording:o}){const l=R.useRef(null),a=R.useRef(null);return R.useEffect(()=>{const u=l.current;if(!u||!e)return;const c=u.getContext("2d"),d=e.frequencyBinCount,h=new Uint8Array(d),m=()=>{a.current=requestAnimationFrame(m),e.getByteTimeDomainData(h);const{width:w,height:S}=u,C=getComputedStyle(document.documentElement),g=C.getPropertyValue("--color-base").trim(),f=C.getPropertyValue("--color-primary").trim();c.clearRect(0,0,w,S),c.fillStyle=g,c.fillRect(0,0,w,S),c.lineWidth=2,c.strokeStyle=f,c.beginPath();const p=w*1/d;let k=0;for(let j=0;j<d;j++){const _=h[j]/128*S/2;j===0?c.moveTo(k,_):c.lineTo(k,_),k+=p}c.lineTo(w,S/2),c.stroke()};return m(),()=>{a.current&&cancelAnimationFrame(a.current)}},[e]),v.jsxs("div",{className:"fixed inset-0 bg-base z-20 flex flex-col items-center justify-center",children:[v.jsx("button",{onClick:o,className:"absolute top-4 right-4",children:v.jsx(Wv,{})}),v.jsx("canvas",{ref:l,className:"w-full h-64",width:800,height:256}),v.jsx("div",{className:"text-2xl font-mono tabular-nums mt-4",children:xr.ms(t)}),v.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[n?v.jsx("button",{onClick:i,className:"p-4 rounded-full bg-primary text-white",children:v.jsx(Of,{})}):v.jsx("button",{onClick:s,className:"p-4 rounded-full bg-primary text-white",children:v.jsx($v,{})}),v.jsx("button",{onClick:r,className:"p-4 rounded-full bg-secondary text-white",children:v.jsx(Pf,{})})]})]})}function Yv({onClose:t,onSelect:e}){return v.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 flex items-center justify-center",children:v.jsxs("div",{className:"bg-surface rounded-xl p-6 w-full max-w-sm",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"What to do with this note?"}),v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsxs("button",{onClick:()=>e("memo"),className:"p-4 rounded-lg bg-base hover:bg-primary/20 text-left",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Memo"}),v.jsx("p",{className:"text-sm text-muted",children:"Just save the audio and transcription."})]}),v.jsxs("button",{onClick:()=>e("task"),className:"p-4 rounded-lg bg-base hover:bg-primary/20 text-left",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Task"}),v.jsx("p",{className:"text-sm text-muted",children:"Create a task in your to-do list."})]}),v.jsxs("button",{onClick:()=>e("appointment"),className:"p-4 rounded-lg bg-base hover:bg-primary/20 text-left",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Appointment"}),v.jsx("p",{className:"text-sm text-muted",children:"Create a calendar event."})]})]}),v.jsx("button",{onClick:t,className:"mt-6 w-full p-2 rounded-lg border border-subtle",children:"Cancel"})]})})}function Xv({api:t,onApiChange:e}){const[n,r]=R.useState(!1),[s,i]=R.useState(!1),[o,l]=R.useState("processed"),a=fa(),{isRecording:u,recordMs:c,startRecording:d,stopRecording:h,pauseRecording:m,resumeRecording:w,cancelRecording:S,permission:C,analyser:g,recorder:f}=Gv(()=>i(!0));function p(k){console.log("Selected option:",k),i(!1)}return v.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-base via-base to-base text-content",children:[v.jsx(Hv,{onSettingsClick:()=>r(!0),tab:o,onTabChange:l}),v.jsxs("main",{className:"mx-auto max-w-5xl px-4 py-6 pb-48",children:[o==="pending"&&v.jsx(zu,{statuses:["recording","saved","uploading","error"]}),o==="processed"&&v.jsx(zu,{statuses:["uploaded"]}),v.jsx("audio",{ref:a.audioRef,className:"hidden"})]}),n&&v.jsx(Vv,{api:t,onApiChange:e,onClose:()=>r(!1)}),s&&v.jsx(Yv,{onClose:()=>i(!1),onSelect:p}),u&&v.jsx(Jv,{recordMs:c,analyser:g,isPaused:(f==null?void 0:f.state)==="paused",stopRecording:h,pauseRecording:m,resumeRecording:w,cancelRecording:S}),v.jsx(qv,{isRecording:u,startRecording:d,permission:C}),v.jsx(Nv,{})]})}function Zv({onLogin:t}){const[e,n]=R.useState("signIn"),[r,s]=R.useState(""),[i,o]=R.useState(""),[l,a]=R.useState(!1),[u,c]=R.useState(null),[d,h]=R.useState(null);function m(){c(null),h(null)}async function w(S){S.preventDefault(),a(!0),m();try{if(e==="signIn"){const C=await Ev(r,i);t(C)}else if(e==="signUp"){const C=await jv(r,i);C?t(C):h("Check your email to confirm your account")}else e==="forgot"&&(await Cv(r),h("Password reset email sent"),n("signIn"))}catch(C){c(C.message||"Request failed")}finally{a(!1)}}return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base text-content transition-colors duration-300",children:v.jsxs("form",{onSubmit:w,className:"bg-surface p-6 rounded shadow-md w-full max-w-sm space-y-4 transition-all duration-300",children:[v.jsx("h1",{className:"text-2xl font-bold text-center",children:e==="signIn"?"Sign In":e==="signUp"?"Create Account":"Reset Password"}),u&&v.jsx("div",{className:"text-accent text-sm transition-opacity",children:u}),d&&v.jsx("div",{className:"text-primary text-sm transition-opacity",children:d}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1",htmlFor:"email",children:"Email"}),v.jsx("input",{id:"email",type:"email",className:"w-full px-3 py-2 rounded bg-base text-content border border-subtle focus:outline-none focus:ring-2 focus:ring-primary transition-colors",value:r,onChange:S=>s(S.target.value),required:!0})]}),e!=="forgot"&&v.jsxs("div",{className:"transition-all",children:[v.jsx("label",{className:"block text-sm mb-1",htmlFor:"password",children:"Password"}),v.jsx("input",{id:"password",type:"password",className:"w-full px-3 py-2 rounded bg-base text-content border border-subtle focus:outline-none focus:ring-2 focus:ring-primary transition-colors",value:i,onChange:S=>o(S.target.value),required:!0})]}),v.jsx("button",{type:"submit",disabled:l,className:"w-full bg-primary text-surface py-2 rounded hover:bg-secondary disabled:opacity-50 transition-colors",children:l?"Please wait...":e==="forgot"?"Send Reset Link":e==="signIn"?"Sign In":"Sign Up"}),v.jsxs("div",{className:"text-center text-sm space-y-1",children:[e==="signIn"&&v.jsxs(v.Fragment,{children:[v.jsx("button",{type:"button",className:"text-primary hover:underline mr-2 transition-colors",onClick:()=>{n("forgot"),m()},children:"Forgot password?"}),v.jsx("button",{type:"button",className:"text-primary hover:underline transition-colors",onClick:()=>{n("signUp"),m()},children:"Create account"})]}),e==="signUp"&&v.jsx("button",{type:"button",className:"text-primary hover:underline transition-colors",onClick:()=>{n("signIn"),m()},children:"Already have an account?"}),e==="forgot"&&v.jsx("button",{type:"button",className:"text-primary hover:underline transition-colors",onClick:()=>{n("signIn"),m()},children:"Back to sign in"})]})]})})}function ey(){const t=jf(),e=bv(),[n,r]=R.useState(()=>{const i=localStorage.getItem("voiceNotes.api");return i?{...JSON.parse(i),authToken:""}:{baseUrl:"https://api.example.com",uploadPath:"/notes",authToken:""}});R.useEffect(()=>{const{authToken:i,...o}=n;localStorage.setItem("voiceNotes.api",JSON.stringify(o))},[n.baseUrl,n.uploadPath]),R.useEffect(()=>{async function i(){const o=window.location.hash,l=window.location.search;if(o.includes("access_token")||l.includes("code=")){const{data:a,error:u}=await In.auth.getSessionFromUrl({storeSession:!0});!u&&a.session&&r(d=>({...d,authToken:a.session.access_token||""}));const c=window.location.pathname==="/auth/callback"?"/":window.location.pathname;window.history.replaceState({},"",c)}}i()},[]),R.useEffect(()=>{In.auth.getSession().then(({data:{session:o}})=>{r(l=>({...l,authToken:(o==null?void 0:o.access_token)||""}))});const{data:{subscription:i}}=In.auth.onAuthStateChange((o,l)=>{r(a=>({...a,authToken:(l==null?void 0:l.access_token)||""}))});return()=>{i.unsubscribe()}},[]);const s=Rv(n,t,e);return n.authToken?v.jsx(Pv,{value:s,children:v.jsx(Xv,{api:n,onApiChange:r})}):v.jsx(Zv,{onLogin:i=>r({...n,authToken:i})})}function Er(t,e){if(!t)throw new Error(`${e} must be a non-empty string`)}const ty="voice-notes-db",yt="clips";async function io(){return new Promise((t,e)=>{const n=indexedDB.open(ty,1);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(yt)||r.createObjectStore(yt,{keyPath:"id"}).createIndex("createdAt","createdAt",{unique:!1})},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)})}class ny{async save(e){Er(e.id,"clip.id");const n=await io();return new Promise((r,s)=>{const o=n.transaction(yt,"readwrite").objectStore(yt),{objectUrl:l,...a}=e,u=o.put(a);u.onsuccess=()=>r(),u.onerror=()=>s(u.error)})}async getAll(){const e=await io();return new Promise((n,r)=>{const o=e.transaction(yt,"readonly").objectStore(yt).getAll();o.onsuccess=()=>n(o.result),o.onerror=()=>r(o.error)})}async remove(e){Er(e,"id");const n=await io();return new Promise((r,s)=>{const l=n.transaction(yt,"readwrite").objectStore(yt).delete(e);l.onsuccess=()=>r(),l.onerror=()=>s(l.error)})}}class ry{constructor(){Qe(this,"clips",new Map)}async save(e){this.clips.set(e.id,e)}async getAll(){return Array.from(this.clips.values())}async remove(e){this.clips.delete(e)}}class Bu{constructor(e,n){this.primary=e,this.secondary=n}async save(e){let n;try{await this.primary.save(e)}catch(r){n=r}try{await this.secondary.save(e)}catch(r){n||(n=r)}if(n&&typeof n<"u")throw n}async getAll(){try{const e=await this.primary.getAll();if(e.length)return e}catch{}return await this.secondary.getAll()}async remove(e){let n;try{await this.primary.remove(e)}catch(r){n=r}try{await this.secondary.remove(e)}catch(r){n||(n=r)}if(n&&typeof n<"u")throw n}}function sy(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>e(r.result),r.onerror=()=>n(r.error),r.readAsDataURL(t)})}function iy(t){return fetch(t).then(e=>e.blob())}class oy{constructor(){Qe(this,"prefix","voiceNotes.clip.")}async save(e){const{objectUrl:n,blob:r,...s}=e,i={...s};r&&(i.blob=await sy(r)),localStorage.setItem(this.prefix+e.id,JSON.stringify(i))}async getAll(){const e=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);if(!r||!r.startsWith(this.prefix))continue;const s=localStorage.getItem(r);if(s)try{const i=JSON.parse(s),{blob:o,...l}=i;let a;o&&(a=await iy(o)),e.push({...l,blob:a})}catch{}}return e}async remove(e){localStorage.removeItem(this.prefix+e)}}function ly(){let e=new ry;if(typeof localStorage<"u"){const n=new oy;e=new Bu(n,e)}if(typeof indexedDB<"u"){const n=new ny;e=new Bu(n,e)}return e}function ay(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t;let l,a;const u=async(d=!0)=>{await a};async function c(){if("serviceWorker"in navigator){if(l=await Kn(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/sw.js",{scope:"/",type:"classic"})).catch(d=>{o==null||o(d)}),!l)return;l.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),l.addEventListener("installed",d=>{d.isUpdate||r==null||r()}),l.register({immediate:e}).then(d=>{i?i("/sw.js",d):s==null||s(d)}).catch(d=>{o==null||o(d)})}}return a=c(),u}function uy(){if("serviceWorker"in navigator)try{ay({immediate:!0})}catch(t){console.warn("Service worker registration failed",t)}}function cy(t,e){const n=(t||"").replace(/\/+$/,""),r=(e||"").replace(/^\/+/,"");return`${n}/${r}`}function dy(t,e){const n=("/"+(e||"/notes").replace(/^\/+/,"")).replace(/\/+$/,""),r=cy(t,n);return new URL(r).toString()}class fy{async upload(e,n){var c;Er(e.id,"clip.id"),Er(n.baseUrl,"api.baseUrl"),Er(n.uploadPath,"api.uploadPath");const r=e.blob;if(!r)throw new Error("Audio blob not found");const s=new FormData,i=`note-${e.id}.${e.mimeType.includes("mp4")?"m4a":"webm"}`;s.append("file",r,i),s.append("createdAt",String(e.createdAt)),e.title&&s.append("title",e.title),(c=e.tags)!=null&&c.length&&s.append("tags",JSON.stringify(e.tags));const o={};n.authToken&&(o.Authorization=`Bearer ${n.authToken}`);const l=await fetch(dy(n.baseUrl,n.uploadPath),{method:"POST",headers:o,body:s});if(!l.ok){const d=await l.text();throw new Error(`Upload failed: ${l.status} ${d}`)}let a={};try{a=await l.json()}catch{}let u=a==null?void 0:a.id;if(!u){const d=l.headers.get("Location")||l.headers.get("Content-Location");if(d){const h=new URL(d,n.baseUrl||window.location.origin);u=h.searchParams.get("id")||h.searchParams.get("job")||void 0}}if(!u)throw new Error("Server did not return an id");return{serverId:u,title:a==null?void 0:a.title,tags:Array.isArray(a==null?void 0:a.tags)?a.tags:void 0,details:a==null?void 0:a.details,transcriptUrl:a==null?void 0:a.transcriptUrl}}}uy();const hy=ly(),py=new fy;oo.createRoot(document.getElementById("root")).render(v.jsx(Jf.StrictMode,{children:v.jsx(Tv,{storage:hy,uploader:py,children:v.jsx(Lv,{children:v.jsx(ey,{})})})}));
